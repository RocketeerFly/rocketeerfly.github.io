<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Frontend Code Conventions &amp; Best Practices - Thi Vo's Blog</title>
    <meta name="description" content="Personal blog of Thi Vo - Developer, Creator, and Tech Enthusiast. Sharing thoughts on technology, development, and creative projects.">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: #f8f9fa;
        }

        /* Navigation */
        nav {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 1rem 0;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 2px 20px rgba(0, 0, 0, 0.1);
        }

        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 2rem;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: bold;
            color: #667eea;
            text-decoration: none;
        }

        .nav-menu {
            display: flex;
            list-style: none;
            gap: 2rem;
        }

        .nav-menu a {
            text-decoration: none;
            color: #333;
            font-weight: 500;
            transition: color 0.3s ease;
            padding: 0.5rem 1rem;
            border-radius: 5px;
        }

        .nav-menu a:hover, .nav-menu a.active {
            color: #667eea;
            background: rgba(102, 126, 234, 0.1);
        }

        /* Main content */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        /* Footer */
        footer {
            background: #333;
            color: white;
            text-align: center;
            padding: 2rem 0;
            margin-top: 4rem;
        }

        /* Mobile responsive */
        @media (max-width: 768px) {
            .nav-menu {
                flex-wrap: wrap;
                gap: 1rem;
            }
            
            .container {
                padding: 1rem;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav>
        <div class="nav-container">
            <a href="/" class="logo">Thi Vo</a>
            <ul class="nav-menu">
                <li><a href="/">Home</a></li>
                <li><a href="/#projects">Projects</a></li>
                <li><a href="/blog/" >Blog</a></li>
                <li><a href="/cv/">CV</a></li>
                <li><a href="/#contact">Contact</a></li>
            </ul>
        </div>
    </nav>

    <!-- Main content -->
    <main class="container">
        <article class="post">

  <header class="post-header">
    <h1 class="post-title">Frontend Code Conventions &amp;amp; Best Practices</h1>
  </header>

  <div class="post-content">
    <h1 id="frontend-code-conventions--best-practices">Frontend Code Conventions &amp; Best Practices</h1>

<h2 id="table-of-contents">Table of Contents</h2>

<ul>
  <li><a href="#overview">Overview</a></li>
  <li><a href="#project-structure">Project Structure</a></li>
  <li><a href="#naming-conventions">Naming Conventions</a></li>
  <li><a href="#code-style-guidelines">Code Style Guidelines</a></li>
  <li><a href="#typescript-best-practices">TypeScript Best Practices</a></li>
  <li><a href="#component-development">Component Development</a></li>
  <li><a href="#state-management">State Management</a></li>
  <li><a href="#api-integration">API Integration</a></li>
  <li><a href="#form-handling">Form Handling</a></li>
  <li><a href="#styling-guidelines">Styling Guidelines</a></li>
  <li><a href="#performance-optimization">Performance Optimization</a></li>
  <li><a href="#error-handling">Error Handling</a></li>
  <li><a href="#security-best-practices">Security Best Practices</a></li>
  <li><a href="#testing-guidelines">Testing Guidelines</a></li>
  <li><a href="#accessibility">Accessibility</a></li>
  <li><a href="#internationalization">Internationalization</a></li>
  <li><a href="#development-workflow">Development Workflow</a></li>
</ul>

<h2 id="overview">Overview</h2>

<p>This document establishes coding standards and best practices for our Next.js application. These conventions ensure code consistency, maintainability, scalability, and provide a smooth onboarding experience for new team members.</p>

<h3 id="core-principles">Core Principles</h3>

<ul>
  <li><strong>Consistency</strong>: Uniform code patterns across the entire codebase</li>
  <li><strong>Readability</strong>: Self-documenting code that’s easy to understand</li>
  <li><strong>Maintainability</strong>: Code that’s easy to modify and extend</li>
  <li><strong>Performance</strong>: Optimized for speed and efficiency</li>
  <li><strong>Security</strong>: Following security best practices</li>
  <li><strong>Accessibility</strong>: Inclusive design for all users</li>
</ul>

<h2 id="project-structure">Project Structure</h2>

<h3 id="recommended-directory-structure">Recommended Directory Structure</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>src/
├── app/                    # App Router (Next.js 13+)
│   ├── (dashboard)/       # Route groups
│   ├── api/              # API routes
│   ├── globals.css       # Global styles
│   ├── layout.tsx        # Root layout
│   └── page.tsx          # Home page
├── components/           # Reusable UI components
│   ├── ui/              # Base UI components
│   ├── forms/           # Form components
│   ├── layout/          # Layout components
│   └── feature/         # Feature-specific components
├── lib/                 # Utility libraries
│   ├── utils.ts         # General utilities
│   ├── validations.ts   # Validation schemas
│   └── constants.ts     # Application constants
├── hooks/               # Custom React hooks
├── services/            # Business logic &amp; API services
├── types/               # TypeScript type definitions
│   ├── api.ts          # API response types
│   ├── common.ts       # Common types
│   └── [feature].ts    # Feature-specific types
├── store/               # State management
├── styles/              # Global styles and themes
└── assets/              # Static assets
</code></pre></div></div>

<h3 id="file-organization-principles">File Organization Principles</h3>

<ol>
  <li><strong>Feature-based grouping</strong>: Related files should be co-located</li>
  <li><strong>Separation of concerns</strong>: Separate business logic from UI components</li>
  <li><strong>Consistent depth</strong>: Avoid deeply nested directories (max 3-4 levels)</li>
  <li><strong>Clear boundaries</strong>: Distinct separation between shared and feature-specific code</li>
</ol>

<h2 id="naming-conventions">Naming Conventions</h2>

<h3 id="file-and-directory-naming">File and Directory Naming</h3>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Components: PascalCase</span>
<span class="nx">UserProfile</span><span class="p">.</span><span class="nx">tsx</span><span class="p">;</span>
<span class="nx">NavigationMenu</span><span class="p">.</span><span class="nx">tsx</span><span class="p">;</span>
<span class="nx">DataTable</span><span class="p">.</span><span class="nx">tsx</span><span class="p">;</span>

<span class="c1">// Pages: kebab-case (App Router)</span>
<span class="nx">app</span> <span class="o">/</span> <span class="nx">user</span> <span class="o">-</span> <span class="nx">profile</span> <span class="o">/</span> <span class="nx">page</span><span class="p">.</span><span class="nx">tsx</span><span class="p">;</span>
<span class="nx">app</span> <span class="o">/</span> <span class="nx">admin</span> <span class="o">/</span> <span class="nx">user</span> <span class="o">-</span> <span class="nx">management</span> <span class="o">/</span> <span class="nx">page</span><span class="p">.</span><span class="nx">tsx</span><span class="p">;</span>

<span class="c1">// API routes: kebab-case</span>
<span class="nx">app</span> <span class="o">/</span> <span class="nx">api</span> <span class="o">/</span> <span class="nx">auth</span> <span class="o">/</span> <span class="nx">login</span> <span class="o">/</span> <span class="nx">route</span><span class="p">.</span><span class="nx">ts</span><span class="p">;</span>
<span class="nx">app</span> <span class="o">/</span> <span class="nx">api</span> <span class="o">/</span> <span class="nx">users</span> <span class="o">/</span> <span class="p">[</span><span class="nx">id</span><span class="p">]</span> <span class="o">/</span> <span class="nx">route</span><span class="p">.</span><span class="nx">ts</span><span class="p">;</span>

<span class="c1">// Hooks: camelCase with 'use' prefix</span>
<span class="nx">useUserData</span><span class="p">.</span><span class="nx">ts</span><span class="p">;</span>
<span class="nx">useLocalStorage</span><span class="p">.</span><span class="nx">ts</span><span class="p">;</span>
<span class="nx">useDebounce</span><span class="p">.</span><span class="nx">ts</span><span class="p">;</span>

<span class="c1">// Utilities: camelCase</span>
<span class="nx">formatDate</span><span class="p">.</span><span class="nx">ts</span><span class="p">;</span>
<span class="nx">apiClient</span><span class="p">.</span><span class="nx">ts</span><span class="p">;</span>
<span class="nx">validationHelpers</span><span class="p">.</span><span class="nx">ts</span><span class="p">;</span>

<span class="c1">// Types: PascalCase</span>
<span class="nx">UserTypes</span><span class="p">.</span><span class="nx">ts</span><span class="p">;</span>
<span class="nx">ApiTypes</span><span class="p">.</span><span class="nx">ts</span><span class="p">;</span>
<span class="nx">CommonTypes</span><span class="p">.</span><span class="nx">ts</span><span class="p">;</span>

<span class="c1">// Constants: SCREAMING_SNAKE_CASE for files</span>
<span class="nx">API_CONSTANTS</span><span class="p">.</span><span class="nx">ts</span><span class="p">;</span>
<span class="nx">APP_CONFIG</span><span class="p">.</span><span class="nx">ts</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="variable-and-function-naming">Variable and Function Naming</h3>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Variables: camelCase</span>
<span class="kd">const</span> <span class="nx">userName</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">john_doe</span><span class="dl">"</span><span class="p">;</span>
<span class="kd">const</span> <span class="nx">isLoading</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
<span class="kd">const</span> <span class="nx">userPreferences</span> <span class="o">=</span> <span class="p">{};</span>

<span class="c1">// Functions: camelCase with descriptive verbs</span>
<span class="kd">const</span> <span class="nx">getUserById</span> <span class="o">=</span> <span class="p">(</span><span class="nx">id</span><span class="p">:</span> <span class="kr">string</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{};</span>
<span class="kd">const</span> <span class="nx">validateEmail</span> <span class="o">=</span> <span class="p">(</span><span class="nx">email</span><span class="p">:</span> <span class="kr">string</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{};</span>
<span class="kd">const</span> <span class="nx">handleSubmit</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{};</span>

<span class="c1">// Constants: SCREAMING_SNAKE_CASE</span>
<span class="kd">const</span> <span class="nx">API_BASE_URL</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">https://api.example.com</span><span class="dl">"</span><span class="p">;</span>
<span class="kd">const</span> <span class="nx">MAX_RETRY_ATTEMPTS</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
<span class="kd">const</span> <span class="nx">DEFAULT_PAGE_SIZE</span> <span class="o">=</span> <span class="mi">20</span><span class="p">;</span>

<span class="c1">// Boolean variables: use is/has/can/should prefixes</span>
<span class="kd">const</span> <span class="nx">isAuthenticated</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
<span class="kd">const</span> <span class="nx">hasPermission</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
<span class="kd">const</span> <span class="nx">canEdit</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
<span class="kd">const</span> <span class="nx">shouldValidate</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>

<span class="c1">// Event handlers: handle + Action</span>
<span class="kd">const</span> <span class="nx">handleClick</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{};</span>
<span class="kd">const</span> <span class="nx">handleSubmit</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{};</span>
<span class="kd">const</span> <span class="nx">handleInputChange</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{};</span>
</code></pre></div></div>

<h3 id="component-naming">Component Naming</h3>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Component names: PascalCase, descriptive</span>
<span class="kd">const</span> <span class="nx">UserProfileCard</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{};</span>
<span class="kd">const</span> <span class="nx">NavigationSidebar</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{};</span>
<span class="kd">const</span> <span class="nx">ProductSearchForm</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{};</span>

<span class="c1">// Props types: ComponentName + Props</span>
<span class="kd">type</span> <span class="nx">UserProfileCardProps</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">user</span><span class="p">:</span> <span class="nx">User</span><span class="p">;</span>
  <span class="nl">onEdit</span><span class="p">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="k">void</span><span class="p">;</span>
<span class="p">};</span>

<span class="c1">// Custom hooks: use + Description</span>
<span class="kd">const</span> <span class="nx">useUserAuthentication</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{};</span>
<span class="kd">const</span> <span class="nx">useApiQuery</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{};</span>
<span class="kd">const</span> <span class="nx">useFormValidation</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{};</span>
</code></pre></div></div>

<h2 id="code-style-guidelines">Code Style Guidelines</h2>

<h3 id="import-organization">Import Organization</h3>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// 1. React and Next.js imports</span>
<span class="k">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">useCallback</span><span class="p">,</span> <span class="nx">useEffect</span><span class="p">,</span> <span class="nx">useState</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">react</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">NextPage</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">next</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">useRouter</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">next/router;
// 2. Third-party libraries (alphabetical)
import { Button, Input, Modal } from </span><span class="dl">"</span><span class="p">@</span><span class="nd">mantine</span><span class="sr">/core"</span><span class="err">;
</span><span class="k">import</span> <span class="p">{</span> <span class="nx">useMutation</span><span class="p">,</span> <span class="nx">useQuery</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@tanstack/react-query</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">z</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">zod</span><span class="dl">"</span><span class="p">;</span>

<span class="k">import</span> <span class="p">{</span> <span class="nx">ApiResponse</span><span class="p">,</span> <span class="nx">User</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@/types/common</span><span class="dl">"</span><span class="p">;</span>
<span class="c1">// 3. Internal imports (services, types, utils)</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">apiClient</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@/lib/api-client</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">validateEmail</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@/lib/utils</span><span class="dl">"</span><span class="p">;</span>

<span class="c1">// 4. Relative imports</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">UserCard</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">./UserCard</span><span class="dl">"</span><span class="p">;</span>

<span class="k">import</span> <span class="dl">"</span><span class="s2">./styles.css</span><span class="dl">"</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="function-declaration-styles">Function Declaration Styles</h3>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Prefer arrow functions for components</span>
<span class="kd">const</span> <span class="nx">UserProfile</span><span class="p">:</span> <span class="nx">React</span><span class="p">.</span><span class="nx">FC</span><span class="o">&lt;</span><span class="nx">UserProfileProps</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">({</span> <span class="nx">user</span><span class="p">,</span> <span class="nx">onEdit</span> <span class="p">})</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">return</span> <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">user</span><span class="p">.</span><span class="nx">name</span><span class="p">}</span><span class="o">&lt;</span><span class="sr">/div&gt;</span><span class="err">;
</span><span class="p">};</span>

<span class="c1">// Use function declarations for hoisted utilities</span>
<span class="kd">function</span> <span class="nx">formatCurrency</span><span class="p">(</span><span class="nx">amount</span><span class="p">:</span> <span class="kr">number</span><span class="p">):</span> <span class="kr">string</span> <span class="p">{</span>
  <span class="k">return</span> <span class="k">new</span> <span class="nx">Intl</span><span class="p">.</span><span class="nx">NumberFormat</span><span class="p">(</span><span class="dl">'</span><span class="s1">en-US</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
    <span class="na">style</span><span class="p">:</span> <span class="dl">'</span><span class="s1">currency</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">currency</span><span class="p">:</span> <span class="dl">'</span><span class="s1">USD</span><span class="dl">'</span><span class="p">,</span>
  <span class="p">}).</span><span class="nx">format</span><span class="p">(</span><span class="nx">amount</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// Use arrow functions for event handlers</span>
<span class="kd">const</span> <span class="nx">handleSubmit</span> <span class="o">=</span> <span class="nx">useCallback</span><span class="p">(</span><span class="k">async</span> <span class="p">(</span><span class="nx">data</span><span class="p">:</span> <span class="nx">FormData</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">try</span> <span class="p">{</span>
    <span class="k">await</span> <span class="nx">submitForm</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
  <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="dl">'</span><span class="s1">Submission failed:</span><span class="dl">'</span><span class="p">,</span> <span class="nx">error</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">},</span> <span class="p">[]);</span>
</code></pre></div></div>

<h3 id="code-organization-within-components">Code Organization Within Components</h3>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">UserManagement</span><span class="p">:</span> <span class="nx">React</span><span class="p">.</span><span class="nx">FC</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// 1. Hooks (useState, useEffect, custom hooks)</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">users</span><span class="p">,</span> <span class="nx">setUsers</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="o">&lt;</span><span class="nx">User</span><span class="p">[]</span><span class="o">&gt;</span><span class="p">([]);</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">loading</span><span class="p">,</span> <span class="nx">setLoading</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
  <span class="kd">const</span> <span class="p">{</span> <span class="nx">data</span><span class="p">,</span> <span class="nx">error</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">useQuery</span><span class="p">([</span><span class="dl">'</span><span class="s1">users</span><span class="dl">'</span><span class="p">],</span> <span class="nx">fetchUsers</span><span class="p">);</span>

  <span class="c1">// 2. Computed values</span>
  <span class="kd">const</span> <span class="nx">filteredUsers</span> <span class="o">=</span> <span class="nx">useMemo</span><span class="p">(()</span> <span class="o">=&gt;</span>
    <span class="nx">users</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">user</span> <span class="o">=&gt;</span> <span class="nx">user</span><span class="p">.</span><span class="nx">active</span><span class="p">),</span> <span class="p">[</span><span class="nx">users</span><span class="p">]</span>
  <span class="p">);</span>

  <span class="c1">// 3. Event handlers</span>
  <span class="kd">const</span> <span class="nx">handleUserSelect</span> <span class="o">=</span> <span class="nx">useCallback</span><span class="p">((</span><span class="na">userId</span><span class="p">:</span> <span class="kr">string</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="c1">// Handle selection</span>
  <span class="p">},</span> <span class="p">[]);</span>

  <span class="kd">const</span> <span class="nx">handleSubmit</span> <span class="o">=</span> <span class="nx">useCallback</span><span class="p">(</span><span class="k">async</span> <span class="p">(</span><span class="na">data</span><span class="p">:</span> <span class="nx">FormData</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="c1">// Handle form submission</span>
  <span class="p">},</span> <span class="p">[]);</span>

  <span class="c1">// 4. Effects</span>
  <span class="nx">useEffect</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">fetchUsers</span><span class="p">();</span>
  <span class="p">},</span> <span class="p">[]);</span>

  <span class="c1">// 5. Early returns</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">loading</span><span class="p">)</span> <span class="k">return</span> <span class="o">&lt;</span><span class="nx">Loading</span> <span class="o">/&gt;</span><span class="p">;</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="k">return</span> <span class="o">&lt;</span><span class="nb">Error</span> <span class="nx">message</span><span class="o">=</span><span class="p">{</span><span class="nx">error</span><span class="p">.</span><span class="nx">message</span><span class="p">}</span> <span class="sr">/&gt;</span><span class="err">;
</span>
  <span class="c1">// 6. Render</span>
  <span class="k">return</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
      <span class="p">{</span><span class="nx">filteredUsers</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">user</span> <span class="o">=&gt;</span> <span class="p">(</span>
        <span class="o">&lt;</span><span class="nx">UserCard</span> <span class="nx">key</span><span class="o">=</span><span class="p">{</span><span class="nx">user</span><span class="p">.</span><span class="nx">id</span><span class="p">}</span> <span class="nx">user</span><span class="o">=</span><span class="p">{</span><span class="nx">user</span><span class="p">}</span> <span class="nx">onSelect</span><span class="o">=</span><span class="p">{</span><span class="nx">handleUserSelect</span><span class="p">}</span> <span class="sr">/</span><span class="err">&gt;
</span>      <span class="p">))}</span>
    <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>  <span class="p">);</span>
<span class="p">};</span>
</code></pre></div></div>

<h2 id="typescript-best-practices">TypeScript Best Practices</h2>

<h3 id="type-definitions">Type Definitions</h3>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Use type aliases for object shapes</span>
<span class="kd">type</span> <span class="nx">User</span> <span class="o">=</span> <span class="p">{</span>
  <span class="k">readonly</span> <span class="na">id</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
  <span class="nl">name</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
  <span class="nl">email</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
  <span class="nl">role</span><span class="p">:</span> <span class="nx">UserRole</span><span class="p">;</span>
  <span class="nl">preferences</span><span class="p">?:</span> <span class="nx">UserPreferences</span><span class="p">;</span>
  <span class="nl">createdAt</span><span class="p">:</span> <span class="nb">Date</span><span class="p">;</span>
  <span class="nl">updatedAt</span><span class="p">:</span> <span class="nb">Date</span><span class="p">;</span>
<span class="p">};</span>

<span class="c1">// Use type aliases for unions and primitives</span>
<span class="kd">type</span> <span class="nx">Status</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">loading</span><span class="dl">"</span> <span class="o">|</span> <span class="dl">"</span><span class="s2">success</span><span class="dl">"</span> <span class="o">|</span> <span class="dl">"</span><span class="s2">error</span><span class="dl">"</span><span class="p">;</span>
<span class="kd">type</span> <span class="nx">UserId</span> <span class="o">=</span> <span class="kr">string</span><span class="p">;</span>

<span class="c1">// Use enums for known constants</span>
<span class="kr">enum</span> <span class="nx">UserRole</span> <span class="p">{</span>
  <span class="nx">ADMIN</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">admin</span><span class="dl">"</span><span class="p">,</span>
  <span class="nx">USER</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">user</span><span class="dl">"</span><span class="p">,</span>
  <span class="nx">MODERATOR</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">moderator</span><span class="dl">"</span><span class="p">,</span>
<span class="p">}</span>

<span class="c1">// Generic types for reusable patterns</span>
<span class="kd">type</span> <span class="nx">ApiResponse</span><span class="o">&lt;</span><span class="nx">T</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">data</span><span class="p">:</span> <span class="nx">T</span><span class="p">;</span>
  <span class="nl">success</span><span class="p">:</span> <span class="nx">boolean</span><span class="p">;</span>
  <span class="nl">message</span><span class="p">?:</span> <span class="kr">string</span><span class="p">;</span>
  <span class="nl">errors</span><span class="p">?:</span> <span class="kr">string</span><span class="p">[];</span>
<span class="p">};</span>

<span class="kd">type</span> <span class="nx">PaginatedResponse</span><span class="o">&lt;</span><span class="nx">T</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nx">ApiResponse</span><span class="o">&lt;</span><span class="nx">T</span><span class="p">[]</span><span class="o">&gt;</span> <span class="o">&amp;</span> <span class="p">{</span>
  <span class="na">pagination</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">page</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
    <span class="nl">limit</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
    <span class="nl">total</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
    <span class="nl">totalPages</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
  <span class="p">};</span>
<span class="p">};</span>
</code></pre></div></div>

<h3 id="advanced-typescript-patterns">Advanced TypeScript Patterns</h3>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Utility types for form handling</span>
<span class="kd">type</span> <span class="nx">FormField</span><span class="o">&lt;</span><span class="nx">T</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">value</span><span class="p">:</span> <span class="nx">T</span><span class="p">;</span>
  <span class="nl">error</span><span class="p">?:</span> <span class="kr">string</span><span class="p">;</span>
  <span class="nl">touched</span><span class="p">:</span> <span class="nx">boolean</span><span class="p">;</span>
<span class="p">};</span>

<span class="kd">type</span> <span class="nx">FormState</span><span class="o">&lt;</span><span class="nx">T</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">{</span>
  <span class="p">[</span><span class="nx">K</span> <span class="k">in</span> <span class="kr">keyof</span> <span class="nx">T</span><span class="p">]:</span> <span class="nx">FormField</span><span class="o">&lt;</span><span class="nx">T</span><span class="p">[</span><span class="nx">K</span><span class="p">]</span><span class="o">&gt;</span><span class="p">;</span>
<span class="p">};</span>

<span class="c1">// Conditional types</span>
<span class="kd">type</span> <span class="nx">ApiEndpoint</span><span class="o">&lt;</span><span class="nx">T</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nx">T</span> <span class="kd">extends</span> <span class="dl">"</span><span class="s2">users</span><span class="dl">"</span>
  <span class="p">?</span> <span class="dl">"</span><span class="s2">/api/users</span><span class="dl">"</span>
  <span class="p">:</span> <span class="nx">T</span> <span class="kd">extends</span> <span class="dl">"</span><span class="s2">posts</span><span class="dl">"</span>
    <span class="p">?</span> <span class="dl">"</span><span class="s2">/api/posts</span><span class="dl">"</span>
    <span class="p">:</span> <span class="nx">never</span><span class="p">;</span>

<span class="c1">// Template literal types</span>
<span class="kd">type</span> <span class="nx">EventName</span><span class="o">&lt;</span><span class="nx">T</span> <span class="kd">extends</span> <span class="kr">string</span><span class="o">&gt;</span> <span class="o">=</span> <span class="s2">`on</span><span class="p">${</span><span class="nx">Capitalize</span><span class="o">&lt;</span><span class="nx">T</span><span class="o">&gt;</span><span class="p">}</span><span class="s2">`</span><span class="p">;</span>

<span class="c1">// Branded types for type safety</span>
<span class="kd">type</span> <span class="nx">Email</span> <span class="o">=</span> <span class="kr">string</span> <span class="o">&amp;</span> <span class="p">{</span> <span class="k">readonly</span> <span class="na">brand</span><span class="p">:</span> <span class="nx">unique</span> <span class="nx">symbol</span> <span class="p">};</span>
<span class="kd">type</span> <span class="nx">UserId</span> <span class="o">=</span> <span class="kr">string</span> <span class="o">&amp;</span> <span class="p">{</span> <span class="k">readonly</span> <span class="na">brand</span><span class="p">:</span> <span class="nx">unique</span> <span class="nx">symbol</span> <span class="p">};</span>
</code></pre></div></div>

<h3 id="type-guards-and-validation">Type Guards and Validation</h3>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Type guards</span>
<span class="kd">function</span> <span class="nx">isUser</span><span class="p">(</span><span class="nx">obj</span><span class="p">:</span> <span class="nx">unknown</span><span class="p">):</span> <span class="nx">obj</span> <span class="k">is</span> <span class="nx">User</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">(</span>
    <span class="k">typeof</span> <span class="nx">obj</span> <span class="o">===</span> <span class="dl">"</span><span class="s2">object</span><span class="dl">"</span> <span class="o">&amp;&amp;</span>
    <span class="nx">obj</span> <span class="o">!==</span> <span class="kc">null</span> <span class="o">&amp;&amp;</span>
    <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span> <span class="k">in</span> <span class="nx">obj</span> <span class="o">&amp;&amp;</span>
    <span class="dl">"</span><span class="s2">name</span><span class="dl">"</span> <span class="k">in</span> <span class="nx">obj</span> <span class="o">&amp;&amp;</span>
    <span class="dl">"</span><span class="s2">email</span><span class="dl">"</span> <span class="k">in</span> <span class="nx">obj</span>
  <span class="p">);</span>
<span class="p">}</span>

<span class="c1">// Runtime validation with Zod</span>
<span class="kd">const</span> <span class="nx">UserSchema</span> <span class="o">=</span> <span class="nx">z</span><span class="p">.</span><span class="nx">object</span><span class="p">({</span>
  <span class="na">id</span><span class="p">:</span> <span class="nx">z</span><span class="p">.</span><span class="kr">string</span><span class="p">().</span><span class="nx">uuid</span><span class="p">(),</span>
  <span class="na">name</span><span class="p">:</span> <span class="nx">z</span><span class="p">.</span><span class="kr">string</span><span class="p">().</span><span class="nx">min</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span>
  <span class="na">email</span><span class="p">:</span> <span class="nx">z</span><span class="p">.</span><span class="kr">string</span><span class="p">().</span><span class="nx">email</span><span class="p">(),</span>
  <span class="na">role</span><span class="p">:</span> <span class="nx">z</span><span class="p">.</span><span class="nx">nativeEnum</span><span class="p">(</span><span class="nx">UserRole</span><span class="p">),</span>
<span class="p">});</span>

<span class="kd">type</span> <span class="nx">User</span> <span class="o">=</span> <span class="nx">z</span><span class="p">.</span><span class="nx">infer</span><span class="o">&lt;</span><span class="k">typeof</span> <span class="nx">UserSchema</span><span class="o">&gt;</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="why-we-prefer-type-over-interface">Why We Prefer Type Over Interface</h3>

<ol>
  <li><strong>Consistency</strong>: Types provide a unified syntax for all type definitions</li>
  <li><strong>Flexibility</strong>: Types support unions, intersections, and computed properties more naturally</li>
  <li><strong>Composability</strong>: Better support for complex type operations and transformations</li>
  <li><strong>Performance</strong>: Slightly better TypeScript compiler performance in some cases</li>
</ol>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Preferred: Type aliases</span>
<span class="kd">type</span> <span class="nx">BaseProps</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">id</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
  <span class="nl">className</span><span class="p">?:</span> <span class="kr">string</span><span class="p">;</span>
<span class="p">};</span>

<span class="kd">type</span> <span class="nx">ButtonProps</span> <span class="o">=</span> <span class="nx">BaseProps</span> <span class="o">&amp;</span> <span class="p">{</span>
  <span class="na">variant</span><span class="p">:</span> <span class="dl">"</span><span class="s2">primary</span><span class="dl">"</span> <span class="o">|</span> <span class="dl">"</span><span class="s2">secondary</span><span class="dl">"</span><span class="p">;</span>
  <span class="nl">onClick</span><span class="p">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="k">void</span><span class="p">;</span>
<span class="p">};</span>

<span class="c1">// Avoid: Interfaces (except for extending library types)</span>
<span class="kr">interface</span> <span class="nx">LibraryComponentProps</span> <span class="p">{</span>
  <span class="c1">// Only use interfaces when extending from library types</span>
  <span class="c1">// or when declaration merging is specifically needed</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="component-development">Component Development</h2>

<h3 id="component-structure-template">Component Structure Template</h3>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">useState</span><span class="p">,</span> <span class="nx">useEffect</span><span class="p">,</span> <span class="nx">useCallback</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">cn</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@/lib/utils</span><span class="dl">'</span><span class="p">;</span>

<span class="c1">// Props type</span>
<span class="kd">type</span> <span class="nx">ComponentNameProps</span> <span class="o">=</span> <span class="p">{</span>
  <span class="c1">// Required props first</span>
  <span class="na">title</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
  <span class="nl">onAction</span><span class="p">:</span> <span class="p">(</span><span class="na">id</span><span class="p">:</span> <span class="kr">string</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="k">void</span><span class="p">;</span>

  <span class="c1">// Optional props</span>
  <span class="nl">className</span><span class="p">?:</span> <span class="kr">string</span><span class="p">;</span>
  <span class="nl">disabled</span><span class="p">?:</span> <span class="nx">boolean</span><span class="p">;</span>
  <span class="nl">children</span><span class="p">?:</span> <span class="nx">React</span><span class="p">.</span><span class="nx">ReactNode</span><span class="p">;</span>

  <span class="c1">// Event handlers</span>
  <span class="nl">onClick</span><span class="p">?:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="k">void</span><span class="p">;</span>
  <span class="nl">onSubmit</span><span class="p">?:</span> <span class="p">(</span><span class="na">data</span><span class="p">:</span> <span class="nx">FormData</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="k">void</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// Component implementation</span>
<span class="k">export</span> <span class="kd">const</span> <span class="nx">ComponentName</span><span class="p">:</span> <span class="nx">React</span><span class="p">.</span><span class="nx">FC</span><span class="o">&lt;</span><span class="nx">ComponentNameProps</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">({</span>
  <span class="nx">title</span><span class="p">,</span>
  <span class="nx">onAction</span><span class="p">,</span>
  <span class="nx">className</span><span class="p">,</span>
  <span class="nx">disabled</span> <span class="o">=</span> <span class="kc">false</span><span class="p">,</span>
  <span class="nx">children</span><span class="p">,</span>
  <span class="nx">onClick</span><span class="p">,</span>
  <span class="nx">onSubmit</span><span class="p">,</span>
<span class="p">})</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// State management</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">isLoading</span><span class="p">,</span> <span class="nx">setIsLoading</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">error</span><span class="p">,</span> <span class="nx">setError</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="o">&lt;</span><span class="kr">string</span> <span class="o">|</span> <span class="kc">null</span><span class="o">&gt;</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>

  <span class="c1">// Event handlers</span>
  <span class="kd">const</span> <span class="nx">handleClick</span> <span class="o">=</span> <span class="nx">useCallback</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">disabled</span> <span class="o">||</span> <span class="nx">isLoading</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span>
    <span class="nx">onClick</span><span class="p">?.();</span>
  <span class="p">},</span> <span class="p">[</span><span class="nx">disabled</span><span class="p">,</span> <span class="nx">isLoading</span><span class="p">,</span> <span class="nx">onClick</span><span class="p">]);</span>

  <span class="kd">const</span> <span class="nx">handleSubmit</span> <span class="o">=</span> <span class="nx">useCallback</span><span class="p">(</span><span class="k">async</span> <span class="p">(</span><span class="na">data</span><span class="p">:</span> <span class="nx">FormData</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">disabled</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span>

    <span class="nx">setIsLoading</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
    <span class="nx">setError</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>

    <span class="k">try</span> <span class="p">{</span>
      <span class="k">await</span> <span class="nx">onSubmit</span><span class="p">?.(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">setError</span><span class="p">(</span><span class="nx">err</span> <span class="k">instanceof</span> <span class="nb">Error</span> <span class="p">?</span> <span class="nx">err</span><span class="p">.</span><span class="nx">message</span> <span class="p">:</span> <span class="dl">'</span><span class="s1">An error occurred</span><span class="dl">'</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">finally</span> <span class="p">{</span>
      <span class="nx">setIsLoading</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">},</span> <span class="p">[</span><span class="nx">disabled</span><span class="p">,</span> <span class="nx">onSubmit</span><span class="p">]);</span>

  <span class="c1">// Effects</span>
  <span class="nx">useEffect</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="c1">// Component initialization</span>
  <span class="p">},</span> <span class="p">[]);</span>

  <span class="c1">// Early returns for loading/error states</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2">error-state</span><span class="dl">"</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">error</span><span class="p">}</span><span class="o">&lt;</span><span class="sr">/div&gt;</span><span class="err">;
</span>  <span class="p">}</span>

  <span class="c1">// Main render</span>
  <span class="k">return</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="p">{</span><span class="nx">cn</span><span class="p">(</span><span class="dl">'</span><span class="s1">component-base-styles</span><span class="dl">'</span><span class="p">,</span> <span class="nx">className</span><span class="p">)}</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">h2</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">title</span><span class="p">}</span><span class="o">&lt;</span><span class="sr">/h2</span><span class="err">&gt;
</span>      <span class="p">{</span><span class="nx">children</span><span class="p">}</span>
      <span class="o">&lt;</span><span class="nx">button</span>
        <span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">handleClick</span><span class="p">}</span>
        <span class="nx">disabled</span><span class="o">=</span><span class="p">{</span><span class="nx">disabled</span> <span class="o">||</span> <span class="nx">isLoading</span><span class="p">}</span>
        <span class="nx">className</span><span class="o">=</span><span class="p">{</span><span class="nx">cn</span><span class="p">(</span>
          <span class="dl">'</span><span class="s1">button-base-styles</span><span class="dl">'</span><span class="p">,</span>
          <span class="nx">disabled</span> <span class="o">&amp;&amp;</span> <span class="dl">'</span><span class="s1">button-disabled</span><span class="dl">'</span><span class="p">,</span>
          <span class="nx">isLoading</span> <span class="o">&amp;&amp;</span> <span class="dl">'</span><span class="s1">button-loading</span><span class="dl">'</span>
        <span class="p">)}</span>
      <span class="o">&gt;</span>
        <span class="p">{</span><span class="nx">isLoading</span> <span class="p">?</span> <span class="dl">'</span><span class="s1">Loading...</span><span class="dl">'</span> <span class="p">:</span> <span class="dl">'</span><span class="s1">Submit</span><span class="dl">'</span><span class="p">}</span>
      <span class="o">&lt;</span><span class="sr">/button</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>  <span class="p">);</span>
<span class="p">};</span>

<span class="c1">// Default export</span>
<span class="k">export</span> <span class="k">default</span> <span class="nx">ComponentName</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="component-composition-patterns">Component Composition Patterns</h3>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Compound component pattern</span>
<span class="kd">const</span> <span class="nx">Modal</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">Root</span><span class="p">:</span> <span class="nx">ModalRoot</span><span class="p">,</span>
  <span class="na">Trigger</span><span class="p">:</span> <span class="nx">ModalTrigger</span><span class="p">,</span>
  <span class="na">Content</span><span class="p">:</span> <span class="nx">ModalContent</span><span class="p">,</span>
  <span class="na">Header</span><span class="p">:</span> <span class="nx">ModalHeader</span><span class="p">,</span>
  <span class="na">Body</span><span class="p">:</span> <span class="nx">ModalBody</span><span class="p">,</span>
  <span class="na">Footer</span><span class="p">:</span> <span class="nx">ModalFooter</span><span class="p">,</span>
<span class="p">};</span>

<span class="c1">// Usage</span>
<span class="o">&lt;</span><span class="nx">Modal</span><span class="p">.</span><span class="nx">Root</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="nx">Modal</span><span class="p">.</span><span class="nx">Trigger</span><span class="o">&gt;</span><span class="nx">Open</span> <span class="nx">Modal</span><span class="o">&lt;</span><span class="sr">/Modal.Trigger</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">Modal</span><span class="p">.</span><span class="nx">Content</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="nx">Modal</span><span class="p">.</span><span class="nx">Header</span><span class="o">&gt;</span><span class="nx">Title</span><span class="o">&lt;</span><span class="sr">/Modal.Header</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="nx">Modal</span><span class="p">.</span><span class="nx">Body</span><span class="o">&gt;</span><span class="nx">Content</span><span class="o">&lt;</span><span class="sr">/Modal.Body</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="nx">Modal</span><span class="p">.</span><span class="nx">Footer</span><span class="o">&gt;</span><span class="nx">Actions</span><span class="o">&lt;</span><span class="sr">/Modal.Footer</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="sr">/Modal.Content</span><span class="err">&gt;
</span><span class="o">&lt;</span><span class="sr">/Modal.Root</span><span class="err">&gt;
</span>
<span class="c1">// Render props pattern</span>
<span class="kd">type</span> <span class="nx">RenderPropsComponentProps</span><span class="o">&lt;</span><span class="nx">T</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">data</span><span class="p">:</span> <span class="nx">T</span><span class="p">[];</span>
  <span class="nl">children</span><span class="p">:</span> <span class="p">(</span><span class="na">props</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">items</span><span class="p">:</span> <span class="nx">T</span><span class="p">[];</span>
    <span class="nl">loading</span><span class="p">:</span> <span class="nx">boolean</span><span class="p">;</span>
    <span class="nl">error</span><span class="p">:</span> <span class="kr">string</span> <span class="o">|</span> <span class="kc">null</span><span class="p">;</span>
  <span class="p">})</span> <span class="o">=&gt;</span> <span class="nx">React</span><span class="p">.</span><span class="nx">ReactNode</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">const</span> <span class="nx">DataProvider</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nx">T</span><span class="p">,</span><span class="o">&gt;</span><span class="p">({</span> <span class="nx">data</span><span class="p">,</span> <span class="nx">children</span> <span class="p">}:</span> <span class="nx">RenderPropsComponentProps</span><span class="o">&lt;</span><span class="nx">T</span><span class="o">&gt;</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">loading</span><span class="p">,</span> <span class="nx">setLoading</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">error</span><span class="p">,</span> <span class="nx">setError</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="o">&lt;</span><span class="kr">string</span> <span class="o">|</span> <span class="kc">null</span><span class="o">&gt;</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>

  <span class="k">return</span> <span class="nx">children</span><span class="p">({</span> <span class="na">items</span><span class="p">:</span> <span class="nx">data</span><span class="p">,</span> <span class="nx">loading</span><span class="p">,</span> <span class="nx">error</span> <span class="p">});</span>
<span class="p">};</span>
</code></pre></div></div>

<h2 id="state-management">State Management</h2>

<h3 id="local-state-management">Local State Management</h3>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// useState for simple state</span>
<span class="kd">const</span> <span class="p">[</span><span class="nx">count</span><span class="p">,</span> <span class="nx">setCount</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="kd">const</span> <span class="p">[</span><span class="nx">user</span><span class="p">,</span> <span class="nx">setUser</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="o">&lt;</span><span class="nx">User</span> <span class="o">|</span> <span class="kc">null</span><span class="o">&gt;</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>

<span class="c1">// useReducer for complex state</span>
<span class="kd">type</span> <span class="nx">State</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">users</span><span class="p">:</span> <span class="nx">User</span><span class="p">[];</span>
  <span class="nl">loading</span><span class="p">:</span> <span class="nx">boolean</span><span class="p">;</span>
  <span class="nl">error</span><span class="p">:</span> <span class="kr">string</span> <span class="o">|</span> <span class="kc">null</span><span class="p">;</span>
  <span class="nl">selectedUserId</span><span class="p">:</span> <span class="kr">string</span> <span class="o">|</span> <span class="kc">null</span><span class="p">;</span>
<span class="p">};</span>

<span class="kd">type</span> <span class="nx">Action</span> <span class="o">=</span>
  <span class="o">|</span> <span class="p">{</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">FETCH_START</span><span class="dl">"</span> <span class="p">}</span>
  <span class="o">|</span> <span class="p">{</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">FETCH_SUCCESS</span><span class="dl">"</span><span class="p">;</span> <span class="nl">payload</span><span class="p">:</span> <span class="nx">User</span><span class="p">[]</span> <span class="p">}</span>
  <span class="o">|</span> <span class="p">{</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">FETCH_ERROR</span><span class="dl">"</span><span class="p">;</span> <span class="nl">payload</span><span class="p">:</span> <span class="kr">string</span> <span class="p">}</span>
  <span class="o">|</span> <span class="p">{</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">SELECT_USER</span><span class="dl">"</span><span class="p">;</span> <span class="nl">payload</span><span class="p">:</span> <span class="kr">string</span> <span class="p">};</span>

<span class="kd">const</span> <span class="nx">initialState</span><span class="p">:</span> <span class="nx">State</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">users</span><span class="p">:</span> <span class="p">[],</span>
  <span class="na">loading</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="na">error</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
  <span class="na">selectedUserId</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
<span class="p">};</span>

<span class="kd">function</span> <span class="nx">userReducer</span><span class="p">(</span><span class="nx">state</span><span class="p">:</span> <span class="nx">State</span><span class="p">,</span> <span class="nx">action</span><span class="p">:</span> <span class="nx">Action</span><span class="p">):</span> <span class="nx">State</span> <span class="p">{</span>
  <span class="k">switch</span> <span class="p">(</span><span class="nx">action</span><span class="p">.</span><span class="kd">type</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="dl">"</span><span class="s2">FETCH_START</span><span class="dl">"</span><span class="p">:</span>
      <span class="k">return</span> <span class="p">{</span> <span class="p">...</span><span class="nx">state</span><span class="p">,</span> <span class="na">loading</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="na">error</span><span class="p">:</span> <span class="kc">null</span> <span class="p">};</span>
    <span class="k">case</span> <span class="dl">"</span><span class="s2">FETCH_SUCCESS</span><span class="dl">"</span><span class="p">:</span>
      <span class="k">return</span> <span class="p">{</span> <span class="p">...</span><span class="nx">state</span><span class="p">,</span> <span class="na">loading</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span> <span class="na">users</span><span class="p">:</span> <span class="nx">action</span><span class="p">.</span><span class="nx">payload</span> <span class="p">};</span>
    <span class="k">case</span> <span class="dl">"</span><span class="s2">FETCH_ERROR</span><span class="dl">"</span><span class="p">:</span>
      <span class="k">return</span> <span class="p">{</span> <span class="p">...</span><span class="nx">state</span><span class="p">,</span> <span class="na">loading</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span> <span class="na">error</span><span class="p">:</span> <span class="nx">action</span><span class="p">.</span><span class="nx">payload</span> <span class="p">};</span>
    <span class="k">case</span> <span class="dl">"</span><span class="s2">SELECT_USER</span><span class="dl">"</span><span class="p">:</span>
      <span class="k">return</span> <span class="p">{</span> <span class="p">...</span><span class="nx">state</span><span class="p">,</span> <span class="na">selectedUserId</span><span class="p">:</span> <span class="nx">action</span><span class="p">.</span><span class="nx">payload</span> <span class="p">};</span>
    <span class="nl">default</span><span class="p">:</span>
      <span class="k">return</span> <span class="nx">state</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="kd">const</span> <span class="nx">useUserState</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">state</span><span class="p">,</span> <span class="nx">dispatch</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useReducer</span><span class="p">(</span><span class="nx">userReducer</span><span class="p">,</span> <span class="nx">initialState</span><span class="p">);</span>

  <span class="kd">const</span> <span class="nx">fetchUsers</span> <span class="o">=</span> <span class="nx">useCallback</span><span class="p">(</span><span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">dispatch</span><span class="p">({</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">FETCH_START</span><span class="dl">"</span> <span class="p">});</span>
    <span class="k">try</span> <span class="p">{</span>
      <span class="kd">const</span> <span class="nx">users</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">apiClient</span><span class="p">.</span><span class="nx">getUsers</span><span class="p">();</span>
      <span class="nx">dispatch</span><span class="p">({</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">FETCH_SUCCESS</span><span class="dl">"</span><span class="p">,</span> <span class="na">payload</span><span class="p">:</span> <span class="nx">users</span> <span class="p">});</span>
    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">dispatch</span><span class="p">({</span> <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">FETCH_ERROR</span><span class="dl">"</span><span class="p">,</span> <span class="na">payload</span><span class="p">:</span> <span class="nx">error</span><span class="p">.</span><span class="nx">message</span> <span class="p">});</span>
    <span class="p">}</span>
  <span class="p">},</span> <span class="p">[]);</span>

  <span class="k">return</span> <span class="p">{</span> <span class="nx">state</span><span class="p">,</span> <span class="nx">dispatch</span><span class="p">,</span> <span class="nx">fetchUsers</span> <span class="p">};</span>
<span class="p">};</span>
</code></pre></div></div>

<h3 id="global-state-with-context">Global State with Context</h3>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Context setup</span>
<span class="kd">type</span> <span class="nx">AppContextType</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">user</span><span class="p">:</span> <span class="nx">User</span> <span class="o">|</span> <span class="kc">null</span><span class="p">;</span>
  <span class="nl">theme</span><span class="p">:</span> <span class="dl">'</span><span class="s1">light</span><span class="dl">'</span> <span class="o">|</span> <span class="dl">'</span><span class="s1">dark</span><span class="dl">'</span><span class="p">;</span>
  <span class="nl">setUser</span><span class="p">:</span> <span class="p">(</span><span class="na">user</span><span class="p">:</span> <span class="nx">User</span> <span class="o">|</span> <span class="kc">null</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="k">void</span><span class="p">;</span>
  <span class="nl">setTheme</span><span class="p">:</span> <span class="p">(</span><span class="na">theme</span><span class="p">:</span> <span class="dl">'</span><span class="s1">light</span><span class="dl">'</span> <span class="o">|</span> <span class="dl">'</span><span class="s1">dark</span><span class="dl">'</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="k">void</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">const</span> <span class="nx">AppContext</span> <span class="o">=</span> <span class="nx">createContext</span><span class="o">&lt;</span><span class="nx">AppContextType</span> <span class="o">|</span> <span class="kc">undefined</span><span class="o">&gt;</span><span class="p">(</span><span class="kc">undefined</span><span class="p">);</span>

<span class="c1">// Provider component</span>
<span class="k">export</span> <span class="kd">const</span> <span class="nx">AppProvider</span><span class="p">:</span> <span class="nx">React</span><span class="p">.</span><span class="nx">FC</span><span class="o">&lt;</span><span class="p">{</span> <span class="na">children</span><span class="p">:</span> <span class="nx">React</span><span class="p">.</span><span class="nx">ReactNode</span> <span class="p">}</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">({</span>
  <span class="nx">children</span>
<span class="p">})</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">user</span><span class="p">,</span> <span class="nx">setUser</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="o">&lt;</span><span class="nx">User</span> <span class="o">|</span> <span class="kc">null</span><span class="o">&gt;</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">theme</span><span class="p">,</span> <span class="nx">setTheme</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="o">&lt;</span><span class="dl">'</span><span class="s1">light</span><span class="dl">'</span> <span class="o">|</span> <span class="dl">'</span><span class="s1">dark</span><span class="dl">'</span><span class="o">&gt;</span><span class="p">(</span><span class="dl">'</span><span class="s1">light</span><span class="dl">'</span><span class="p">);</span>

  <span class="kd">const</span> <span class="nx">value</span> <span class="o">=</span> <span class="nx">useMemo</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">({</span>
    <span class="nx">user</span><span class="p">,</span>
    <span class="nx">theme</span><span class="p">,</span>
    <span class="nx">setUser</span><span class="p">,</span>
    <span class="nx">setTheme</span><span class="p">,</span>
  <span class="p">}),</span> <span class="p">[</span><span class="nx">user</span><span class="p">,</span> <span class="nx">theme</span><span class="p">]);</span>

  <span class="k">return</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">AppContext</span><span class="p">.</span><span class="nx">Provider</span> <span class="nx">value</span><span class="o">=</span><span class="p">{</span><span class="nx">value</span><span class="p">}</span><span class="o">&gt;</span>
      <span class="p">{</span><span class="nx">children</span><span class="p">}</span>
    <span class="o">&lt;</span><span class="sr">/AppContext.Provider</span><span class="err">&gt;
</span>  <span class="p">);</span>
<span class="p">};</span>

<span class="c1">// Custom hook</span>
<span class="k">export</span> <span class="kd">const</span> <span class="nx">useAppContext</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">context</span> <span class="o">=</span> <span class="nx">useContext</span><span class="p">(</span><span class="nx">AppContext</span><span class="p">);</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">context</span> <span class="o">===</span> <span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="dl">'</span><span class="s1">useAppContext must be used within an AppProvider</span><span class="dl">'</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="nx">context</span><span class="p">;</span>
<span class="p">};</span>
</code></pre></div></div>

<h3 id="redux-toolkit-when-needed">Redux Toolkit (when needed)</h3>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Slice definition</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">createAsyncThunk</span><span class="p">,</span> <span class="nx">createSlice</span><span class="p">,</span> <span class="nx">PayloadAction</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@reduxjs/toolkit</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">type</span> <span class="nx">UserState</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">users</span><span class="p">:</span> <span class="nx">User</span><span class="p">[];</span>
  <span class="nl">currentUser</span><span class="p">:</span> <span class="nx">User</span> <span class="o">|</span> <span class="kc">null</span><span class="p">;</span>
  <span class="nl">loading</span><span class="p">:</span> <span class="nx">boolean</span><span class="p">;</span>
  <span class="nl">error</span><span class="p">:</span> <span class="kr">string</span> <span class="o">|</span> <span class="kc">null</span><span class="p">;</span>
<span class="p">};</span>

<span class="kd">const</span> <span class="nx">initialState</span><span class="p">:</span> <span class="nx">UserState</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">users</span><span class="p">:</span> <span class="p">[],</span>
  <span class="na">currentUser</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
  <span class="na">loading</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="na">error</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
<span class="p">};</span>

<span class="c1">// Async thunks</span>
<span class="k">export</span> <span class="kd">const</span> <span class="nx">fetchUsers</span> <span class="o">=</span> <span class="nx">createAsyncThunk</span><span class="p">(</span>
  <span class="dl">"</span><span class="s2">users/fetchUsers</span><span class="dl">"</span><span class="p">,</span>
  <span class="k">async</span> <span class="p">(</span><span class="nx">_</span><span class="p">,</span> <span class="p">{</span> <span class="nx">rejectWithValue</span> <span class="p">})</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">try</span> <span class="p">{</span>
      <span class="kd">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">apiClient</span><span class="p">.</span><span class="nx">getUsers</span><span class="p">();</span>
      <span class="k">return</span> <span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span> <span class="nx">rejectWithValue</span><span class="p">(</span><span class="nx">error</span><span class="p">.</span><span class="nx">message</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">);</span>

<span class="c1">// Slice</span>
<span class="kd">const</span> <span class="nx">userSlice</span> <span class="o">=</span> <span class="nx">createSlice</span><span class="p">({</span>
  <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">users</span><span class="dl">"</span><span class="p">,</span>
  <span class="nx">initialState</span><span class="p">,</span>
  <span class="na">reducers</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">setCurrentUser</span><span class="p">:</span> <span class="p">(</span><span class="nx">state</span><span class="p">,</span> <span class="na">action</span><span class="p">:</span> <span class="nx">PayloadAction</span><span class="o">&lt;</span><span class="nx">User</span><span class="o">&gt;</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">state</span><span class="p">.</span><span class="nx">currentUser</span> <span class="o">=</span> <span class="nx">action</span><span class="p">.</span><span class="nx">payload</span><span class="p">;</span>
    <span class="p">},</span>
    <span class="na">clearError</span><span class="p">:</span> <span class="p">(</span><span class="nx">state</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">state</span><span class="p">.</span><span class="nx">error</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
    <span class="p">},</span>
  <span class="p">},</span>
  <span class="na">extraReducers</span><span class="p">:</span> <span class="p">(</span><span class="nx">builder</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">builder</span>
      <span class="p">.</span><span class="nx">addCase</span><span class="p">(</span><span class="nx">fetchUsers</span><span class="p">.</span><span class="nx">pending</span><span class="p">,</span> <span class="p">(</span><span class="nx">state</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">state</span><span class="p">.</span><span class="nx">loading</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
        <span class="nx">state</span><span class="p">.</span><span class="nx">error</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
      <span class="p">})</span>
      <span class="p">.</span><span class="nx">addCase</span><span class="p">(</span><span class="nx">fetchUsers</span><span class="p">.</span><span class="nx">fulfilled</span><span class="p">,</span> <span class="p">(</span><span class="nx">state</span><span class="p">,</span> <span class="nx">action</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">state</span><span class="p">.</span><span class="nx">loading</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
        <span class="nx">state</span><span class="p">.</span><span class="nx">users</span> <span class="o">=</span> <span class="nx">action</span><span class="p">.</span><span class="nx">payload</span><span class="p">;</span>
      <span class="p">})</span>
      <span class="p">.</span><span class="nx">addCase</span><span class="p">(</span><span class="nx">fetchUsers</span><span class="p">.</span><span class="nx">rejected</span><span class="p">,</span> <span class="p">(</span><span class="nx">state</span><span class="p">,</span> <span class="nx">action</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">state</span><span class="p">.</span><span class="nx">loading</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
        <span class="nx">state</span><span class="p">.</span><span class="nx">error</span> <span class="o">=</span> <span class="nx">action</span><span class="p">.</span><span class="nx">payload</span> <span class="k">as</span> <span class="kr">string</span><span class="p">;</span>
      <span class="p">});</span>
  <span class="p">},</span>
<span class="p">});</span>

<span class="k">export</span> <span class="kd">const</span> <span class="p">{</span> <span class="nx">setCurrentUser</span><span class="p">,</span> <span class="nx">clearError</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">userSlice</span><span class="p">.</span><span class="nx">actions</span><span class="p">;</span>
<span class="k">export</span> <span class="k">default</span> <span class="nx">userSlice</span><span class="p">.</span><span class="nx">reducer</span><span class="p">;</span>
</code></pre></div></div>

<h2 id="api-integration">API Integration</h2>

<h3 id="api-client-setup">API Client Setup</h3>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// API client configuration</span>
<span class="k">import</span> <span class="nx">axios</span><span class="p">,</span> <span class="p">{</span> <span class="nx">AxiosInstance</span><span class="p">,</span> <span class="nx">AxiosRequestConfig</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">axios</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">class</span> <span class="nx">ApiClient</span> <span class="p">{</span>
  <span class="k">private</span> <span class="nx">client</span><span class="p">:</span> <span class="nx">AxiosInstance</span><span class="p">;</span>

  <span class="kd">constructor</span><span class="p">(</span><span class="nx">baseURL</span><span class="p">:</span> <span class="kr">string</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">client</span> <span class="o">=</span> <span class="nx">axios</span><span class="p">.</span><span class="nx">create</span><span class="p">({</span>
      <span class="nx">baseURL</span><span class="p">,</span>
      <span class="na">timeout</span><span class="p">:</span> <span class="mi">10000</span><span class="p">,</span>
      <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">Content-Type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span><span class="p">,</span>
      <span class="p">},</span>
    <span class="p">});</span>

    <span class="k">this</span><span class="p">.</span><span class="nx">setupInterceptors</span><span class="p">();</span>
  <span class="p">}</span>

  <span class="k">private</span> <span class="nx">setupInterceptors</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// Request interceptor</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">client</span><span class="p">.</span><span class="nx">interceptors</span><span class="p">.</span><span class="nx">request</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span>
      <span class="p">(</span><span class="nx">config</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="kd">const</span> <span class="nx">token</span> <span class="o">=</span> <span class="nx">localStorage</span><span class="p">.</span><span class="nx">getItem</span><span class="p">(</span><span class="dl">"</span><span class="s2">authToken</span><span class="dl">"</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">token</span><span class="p">)</span> <span class="p">{</span>
          <span class="nx">config</span><span class="p">.</span><span class="nx">headers</span><span class="p">.</span><span class="nx">Authorization</span> <span class="o">=</span> <span class="s2">`Bearer </span><span class="p">${</span><span class="nx">token</span><span class="p">}</span><span class="s2">`</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="nx">config</span><span class="p">;</span>
      <span class="p">},</span>
      <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nb">Promise</span><span class="p">.</span><span class="nx">reject</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span>
    <span class="p">);</span>

    <span class="c1">// Response interceptor</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">client</span><span class="p">.</span><span class="nx">interceptors</span><span class="p">.</span><span class="nx">response</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span>
      <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">response</span><span class="p">,</span>
      <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">error</span><span class="p">.</span><span class="nx">response</span><span class="p">?.</span><span class="nx">status</span> <span class="o">===</span> <span class="mi">401</span><span class="p">)</span> <span class="p">{</span>
          <span class="c1">// Handle unauthorized access</span>
          <span class="nx">localStorage</span><span class="p">.</span><span class="nx">removeItem</span><span class="p">(</span><span class="dl">"</span><span class="s2">authToken</span><span class="dl">"</span><span class="p">);</span>
          <span class="nb">window</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">href</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">/login</span><span class="dl">"</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="nb">Promise</span><span class="p">.</span><span class="nx">reject</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
      <span class="p">}</span>
    <span class="p">);</span>
  <span class="p">}</span>

  <span class="k">async</span> <span class="kd">get</span><span class="o">&lt;</span><span class="nx">T</span><span class="o">&gt;</span><span class="p">(</span><span class="nx">url</span><span class="p">:</span> <span class="kr">string</span><span class="p">,</span> <span class="nx">config</span><span class="p">?:</span> <span class="nx">AxiosRequestConfig</span><span class="p">):</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="nx">T</span><span class="o">&gt;</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="k">this</span><span class="p">.</span><span class="nx">client</span><span class="p">.</span><span class="kd">get</span><span class="o">&lt;</span><span class="nx">T</span><span class="o">&gt;</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">config</span><span class="p">);</span>
    <span class="k">return</span> <span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="k">async</span> <span class="nx">post</span><span class="o">&lt;</span><span class="nx">T</span><span class="p">,</span> <span class="nx">D</span> <span class="o">=</span> <span class="kr">any</span><span class="o">&gt;</span><span class="p">(</span>
    <span class="nx">url</span><span class="p">:</span> <span class="kr">string</span><span class="p">,</span>
    <span class="nx">data</span><span class="p">?:</span> <span class="nx">D</span><span class="p">,</span>
    <span class="nx">config</span><span class="p">?:</span> <span class="nx">AxiosRequestConfig</span>
  <span class="p">):</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="nx">T</span><span class="o">&gt;</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="k">this</span><span class="p">.</span><span class="nx">client</span><span class="p">.</span><span class="nx">post</span><span class="o">&lt;</span><span class="nx">T</span><span class="o">&gt;</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">data</span><span class="p">,</span> <span class="nx">config</span><span class="p">);</span>
    <span class="k">return</span> <span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="k">async</span> <span class="nx">put</span><span class="o">&lt;</span><span class="nx">T</span><span class="p">,</span> <span class="nx">D</span> <span class="o">=</span> <span class="kr">any</span><span class="o">&gt;</span><span class="p">(</span>
    <span class="nx">url</span><span class="p">:</span> <span class="kr">string</span><span class="p">,</span>
    <span class="nx">data</span><span class="p">?:</span> <span class="nx">D</span><span class="p">,</span>
    <span class="nx">config</span><span class="p">?:</span> <span class="nx">AxiosRequestConfig</span>
  <span class="p">):</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="nx">T</span><span class="o">&gt;</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="k">this</span><span class="p">.</span><span class="nx">client</span><span class="p">.</span><span class="nx">put</span><span class="o">&lt;</span><span class="nx">T</span><span class="o">&gt;</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">data</span><span class="p">,</span> <span class="nx">config</span><span class="p">);</span>
    <span class="k">return</span> <span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="k">async</span> <span class="k">delete</span><span class="o">&lt;</span><span class="nx">T</span><span class="o">&gt;</span><span class="p">(</span><span class="nx">url</span><span class="p">:</span> <span class="kr">string</span><span class="p">,</span> <span class="nx">config</span><span class="p">?:</span> <span class="nx">AxiosRequestConfig</span><span class="p">):</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="nx">T</span><span class="o">&gt;</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="k">this</span><span class="p">.</span><span class="nx">client</span><span class="p">.</span><span class="k">delete</span><span class="o">&lt;</span><span class="nx">T</span><span class="o">&gt;</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">config</span><span class="p">);</span>
    <span class="k">return</span> <span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="k">export</span> <span class="kd">const</span> <span class="nx">apiClient</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ApiClient</span><span class="p">(</span><span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">NEXT_PUBLIC_API_URL</span><span class="o">!</span><span class="p">);</span>
</code></pre></div></div>

<h3 id="service-layer-pattern">Service Layer Pattern</h3>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Service type</span>
<span class="kd">type</span> <span class="nx">UserService</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">getUsers</span><span class="p">(</span><span class="nx">params</span><span class="p">?:</span> <span class="nx">GetUsersParams</span><span class="p">):</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="nx">PaginatedResponse</span><span class="o">&lt;</span><span class="nx">User</span><span class="o">&gt;&gt;</span><span class="p">;</span>
  <span class="nx">getUserById</span><span class="p">(</span><span class="na">id</span><span class="p">:</span> <span class="kr">string</span><span class="p">):</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="nx">User</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">createUser</span><span class="p">(</span><span class="na">data</span><span class="p">:</span> <span class="nx">CreateUserData</span><span class="p">):</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="nx">User</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">updateUser</span><span class="p">(</span><span class="na">id</span><span class="p">:</span> <span class="kr">string</span><span class="p">,</span> <span class="na">data</span><span class="p">:</span> <span class="nx">UpdateUserData</span><span class="p">):</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="nx">User</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nx">deleteUser</span><span class="p">(</span><span class="na">id</span><span class="p">:</span> <span class="kr">string</span><span class="p">):</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span><span class="p">;</span>
<span class="p">};</span>

<span class="c1">// Service implementation</span>
<span class="kd">class</span> <span class="nx">UserServiceImpl</span> <span class="k">implements</span> <span class="nx">UserService</span> <span class="p">{</span>
  <span class="k">async</span> <span class="nx">getUsers</span><span class="p">(</span>
    <span class="nx">params</span><span class="p">:</span> <span class="nx">GetUsersParams</span> <span class="o">=</span> <span class="p">{}</span>
  <span class="p">):</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="nx">PaginatedResponse</span><span class="o">&lt;</span><span class="nx">User</span><span class="o">&gt;&gt;</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">queryParams</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">URLSearchParams</span><span class="p">({</span>
      <span class="na">page</span><span class="p">:</span> <span class="nx">params</span><span class="p">.</span><span class="nx">page</span><span class="p">?.</span><span class="nx">toString</span><span class="p">()</span> <span class="o">??</span> <span class="dl">"</span><span class="s2">1</span><span class="dl">"</span><span class="p">,</span>
      <span class="na">limit</span><span class="p">:</span> <span class="nx">params</span><span class="p">.</span><span class="nx">limit</span><span class="p">?.</span><span class="nx">toString</span><span class="p">()</span> <span class="o">??</span> <span class="dl">"</span><span class="s2">10</span><span class="dl">"</span><span class="p">,</span>
      <span class="p">...(</span><span class="nx">params</span><span class="p">.</span><span class="nx">search</span> <span class="o">&amp;&amp;</span> <span class="p">{</span> <span class="na">search</span><span class="p">:</span> <span class="nx">params</span><span class="p">.</span><span class="nx">search</span> <span class="p">}),</span>
      <span class="p">...(</span><span class="nx">params</span><span class="p">.</span><span class="nx">role</span> <span class="o">&amp;&amp;</span> <span class="p">{</span> <span class="na">role</span><span class="p">:</span> <span class="nx">params</span><span class="p">.</span><span class="nx">role</span> <span class="p">}),</span>
    <span class="p">});</span>

    <span class="k">return</span> <span class="nx">apiClient</span><span class="p">.</span><span class="kd">get</span><span class="o">&lt;</span><span class="nx">PaginatedResponse</span><span class="o">&lt;</span><span class="nx">User</span><span class="o">&gt;&gt;</span><span class="p">(</span><span class="s2">`/users?</span><span class="p">${</span><span class="nx">queryParams</span><span class="p">}</span><span class="s2">`</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="k">async</span> <span class="nx">getUserById</span><span class="p">(</span><span class="nx">id</span><span class="p">:</span> <span class="kr">string</span><span class="p">):</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="nx">User</span><span class="o">&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">apiClient</span><span class="p">.</span><span class="kd">get</span><span class="o">&lt;</span><span class="nx">User</span><span class="o">&gt;</span><span class="p">(</span><span class="s2">`/users/</span><span class="p">${</span><span class="nx">id</span><span class="p">}</span><span class="s2">`</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="k">async</span> <span class="nx">createUser</span><span class="p">(</span><span class="nx">data</span><span class="p">:</span> <span class="nx">CreateUserData</span><span class="p">):</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="nx">User</span><span class="o">&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">apiClient</span><span class="p">.</span><span class="nx">post</span><span class="o">&lt;</span><span class="nx">User</span><span class="o">&gt;</span><span class="p">(</span><span class="dl">"</span><span class="s2">/users</span><span class="dl">"</span><span class="p">,</span> <span class="nx">data</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="k">async</span> <span class="nx">updateUser</span><span class="p">(</span><span class="nx">id</span><span class="p">:</span> <span class="kr">string</span><span class="p">,</span> <span class="nx">data</span><span class="p">:</span> <span class="nx">UpdateUserData</span><span class="p">):</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="nx">User</span><span class="o">&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">apiClient</span><span class="p">.</span><span class="nx">put</span><span class="o">&lt;</span><span class="nx">User</span><span class="o">&gt;</span><span class="p">(</span><span class="s2">`/users/</span><span class="p">${</span><span class="nx">id</span><span class="p">}</span><span class="s2">`</span><span class="p">,</span> <span class="nx">data</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="k">async</span> <span class="nx">deleteUser</span><span class="p">(</span><span class="nx">id</span><span class="p">:</span> <span class="kr">string</span><span class="p">):</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">apiClient</span><span class="p">.</span><span class="k">delete</span><span class="p">(</span><span class="s2">`/users/</span><span class="p">${</span><span class="nx">id</span><span class="p">}</span><span class="s2">`</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="k">export</span> <span class="kd">const</span> <span class="nx">userService</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">UserServiceImpl</span><span class="p">();</span>
</code></pre></div></div>

<h3 id="react-query-integration">React Query Integration</h3>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Query hooks</span>
<span class="k">export</span> <span class="kd">const</span> <span class="nx">useUsers</span> <span class="o">=</span> <span class="p">(</span><span class="nx">params</span><span class="p">?:</span> <span class="nx">GetUsersParams</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">useQuery</span><span class="p">({</span>
    <span class="na">queryKey</span><span class="p">:</span> <span class="p">[</span><span class="dl">"</span><span class="s2">users</span><span class="dl">"</span><span class="p">,</span> <span class="nx">params</span><span class="p">],</span>
    <span class="na">queryFn</span><span class="p">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nx">userService</span><span class="p">.</span><span class="nx">getUsers</span><span class="p">(</span><span class="nx">params</span><span class="p">),</span>
    <span class="na">staleTime</span><span class="p">:</span> <span class="mi">5</span> <span class="o">*</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">1000</span><span class="p">,</span> <span class="c1">// 5 minutes</span>
    <span class="na">cacheTime</span><span class="p">:</span> <span class="mi">10</span> <span class="o">*</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">1000</span><span class="p">,</span> <span class="c1">// 10 minutes</span>
  <span class="p">});</span>
<span class="p">};</span>

<span class="k">export</span> <span class="kd">const</span> <span class="nx">useUser</span> <span class="o">=</span> <span class="p">(</span><span class="nx">id</span><span class="p">:</span> <span class="kr">string</span><span class="p">,</span> <span class="nx">enabled</span> <span class="o">=</span> <span class="kc">true</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">useQuery</span><span class="p">({</span>
    <span class="na">queryKey</span><span class="p">:</span> <span class="p">[</span><span class="dl">"</span><span class="s2">users</span><span class="dl">"</span><span class="p">,</span> <span class="nx">id</span><span class="p">],</span>
    <span class="na">queryFn</span><span class="p">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nx">userService</span><span class="p">.</span><span class="nx">getUserById</span><span class="p">(</span><span class="nx">id</span><span class="p">),</span>
    <span class="nx">enabled</span><span class="p">,</span>
  <span class="p">});</span>
<span class="p">};</span>

<span class="c1">// Mutation hooks</span>
<span class="k">export</span> <span class="kd">const</span> <span class="nx">useCreateUser</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">queryClient</span> <span class="o">=</span> <span class="nx">useQueryClient</span><span class="p">();</span>

  <span class="k">return</span> <span class="nx">useMutation</span><span class="p">({</span>
    <span class="na">mutationFn</span><span class="p">:</span> <span class="nx">userService</span><span class="p">.</span><span class="nx">createUser</span><span class="p">,</span>
    <span class="na">onSuccess</span><span class="p">:</span> <span class="p">(</span><span class="nx">newUser</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="c1">// Update users list cache</span>
      <span class="nx">queryClient</span><span class="p">.</span><span class="nx">setQueryData</span><span class="p">(</span>
        <span class="p">[</span><span class="dl">"</span><span class="s2">users</span><span class="dl">"</span><span class="p">],</span>
        <span class="p">(</span><span class="na">old</span><span class="p">:</span> <span class="nx">PaginatedResponse</span><span class="o">&lt;</span><span class="nx">User</span><span class="o">&gt;</span> <span class="o">|</span> <span class="kc">undefined</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
          <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">old</span><span class="p">)</span> <span class="k">return</span> <span class="nx">old</span><span class="p">;</span>
          <span class="k">return</span> <span class="p">{</span>
            <span class="p">...</span><span class="nx">old</span><span class="p">,</span>
            <span class="na">data</span><span class="p">:</span> <span class="p">[</span><span class="nx">newUser</span><span class="p">,</span> <span class="p">...</span><span class="nx">old</span><span class="p">.</span><span class="nx">data</span><span class="p">],</span>
          <span class="p">};</span>
        <span class="p">}</span>
      <span class="p">);</span>

      <span class="c1">// Invalidate and refetch</span>
      <span class="nx">queryClient</span><span class="p">.</span><span class="nx">invalidateQueries</span><span class="p">({</span> <span class="na">queryKey</span><span class="p">:</span> <span class="p">[</span><span class="dl">"</span><span class="s2">users</span><span class="dl">"</span><span class="p">]</span> <span class="p">});</span>
    <span class="p">},</span>
  <span class="p">});</span>
<span class="p">};</span>

<span class="k">export</span> <span class="kd">const</span> <span class="nx">useUpdateUser</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">queryClient</span> <span class="o">=</span> <span class="nx">useQueryClient</span><span class="p">();</span>

  <span class="k">return</span> <span class="nx">useMutation</span><span class="p">({</span>
    <span class="na">mutationFn</span><span class="p">:</span> <span class="p">({</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">data</span> <span class="p">}:</span> <span class="p">{</span> <span class="na">id</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span> <span class="nl">data</span><span class="p">:</span> <span class="nx">UpdateUserData</span> <span class="p">})</span> <span class="o">=&gt;</span>
      <span class="nx">userService</span><span class="p">.</span><span class="nx">updateUser</span><span class="p">(</span><span class="nx">id</span><span class="p">,</span> <span class="nx">data</span><span class="p">),</span>
    <span class="na">onSuccess</span><span class="p">:</span> <span class="p">(</span><span class="nx">updatedUser</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="c1">// Update specific user cache</span>
      <span class="nx">queryClient</span><span class="p">.</span><span class="nx">setQueryData</span><span class="p">([</span><span class="dl">"</span><span class="s2">users</span><span class="dl">"</span><span class="p">,</span> <span class="nx">updatedUser</span><span class="p">.</span><span class="nx">id</span><span class="p">],</span> <span class="nx">updatedUser</span><span class="p">);</span>

      <span class="c1">// Update users list cache</span>
      <span class="nx">queryClient</span><span class="p">.</span><span class="nx">setQueryData</span><span class="p">(</span>
        <span class="p">[</span><span class="dl">"</span><span class="s2">users</span><span class="dl">"</span><span class="p">],</span>
        <span class="p">(</span><span class="na">old</span><span class="p">:</span> <span class="nx">PaginatedResponse</span><span class="o">&lt;</span><span class="nx">User</span><span class="o">&gt;</span> <span class="o">|</span> <span class="kc">undefined</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
          <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">old</span><span class="p">)</span> <span class="k">return</span> <span class="nx">old</span><span class="p">;</span>
          <span class="k">return</span> <span class="p">{</span>
            <span class="p">...</span><span class="nx">old</span><span class="p">,</span>
            <span class="na">data</span><span class="p">:</span> <span class="nx">old</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">map</span><span class="p">((</span><span class="nx">user</span><span class="p">)</span> <span class="o">=&gt;</span>
              <span class="nx">user</span><span class="p">.</span><span class="nx">id</span> <span class="o">===</span> <span class="nx">updatedUser</span><span class="p">.</span><span class="nx">id</span> <span class="p">?</span> <span class="nx">updatedUser</span> <span class="p">:</span> <span class="nx">user</span>
            <span class="p">),</span>
          <span class="p">};</span>
        <span class="p">}</span>
      <span class="p">);</span>
    <span class="p">},</span>
  <span class="p">});</span>
<span class="p">};</span>
</code></pre></div></div>

<h2 id="form-handling">Form Handling</h2>

<h3 id="form-validation-with-zod">Form Validation with Zod</h3>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Validation schema</span>
<span class="kd">const</span> <span class="nx">createUserSchema</span> <span class="o">=</span> <span class="nx">z</span>
  <span class="p">.</span><span class="nx">object</span><span class="p">({</span>
    <span class="na">name</span><span class="p">:</span> <span class="nx">z</span>
      <span class="p">.</span><span class="kr">string</span><span class="p">()</span>
      <span class="p">.</span><span class="nx">min</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="dl">"</span><span class="s2">Name must be at least 2 characters</span><span class="dl">"</span><span class="p">)</span>
      <span class="p">.</span><span class="nx">max</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="dl">"</span><span class="s2">Name must be less than 50 characters</span><span class="dl">"</span><span class="p">),</span>
    <span class="na">email</span><span class="p">:</span> <span class="nx">z</span>
      <span class="p">.</span><span class="kr">string</span><span class="p">()</span>
      <span class="p">.</span><span class="nx">email</span><span class="p">(</span><span class="dl">"</span><span class="s2">Invalid email address</span><span class="dl">"</span><span class="p">)</span>
      <span class="p">.</span><span class="nx">max</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="dl">"</span><span class="s2">Email must be less than 100 characters</span><span class="dl">"</span><span class="p">),</span>
    <span class="na">password</span><span class="p">:</span> <span class="nx">z</span>
      <span class="p">.</span><span class="kr">string</span><span class="p">()</span>
      <span class="p">.</span><span class="nx">min</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="dl">"</span><span class="s2">Password must be at least 8 characters</span><span class="dl">"</span><span class="p">)</span>
      <span class="p">.</span><span class="nx">regex</span><span class="p">(</span>
        <span class="sr">/^</span><span class="se">(?=</span><span class="sr">.*</span><span class="se">[</span><span class="sr">a-z</span><span class="se">])(?=</span><span class="sr">.*</span><span class="se">[</span><span class="sr">A-Z</span><span class="se">])(?=</span><span class="sr">.*</span><span class="se">\d)</span><span class="sr">/</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">Password must contain at least one lowercase, one uppercase, and one number</span><span class="dl">"</span>
      <span class="p">),</span>
    <span class="na">confirmPassword</span><span class="p">:</span> <span class="nx">z</span><span class="p">.</span><span class="kr">string</span><span class="p">(),</span>
    <span class="na">role</span><span class="p">:</span> <span class="nx">z</span><span class="p">.</span><span class="nx">nativeEnum</span><span class="p">(</span><span class="nx">UserRole</span><span class="p">),</span>
    <span class="na">termsAccepted</span><span class="p">:</span> <span class="nx">z</span><span class="p">.</span><span class="nx">boolean</span><span class="p">().</span><span class="nx">refine</span><span class="p">((</span><span class="nx">val</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">val</span> <span class="o">===</span> <span class="kc">true</span><span class="p">,</span> <span class="p">{</span>
      <span class="na">message</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Terms and conditions must be accepted</span><span class="dl">"</span><span class="p">,</span>
    <span class="p">}),</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="nx">refine</span><span class="p">((</span><span class="nx">data</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">data</span><span class="p">.</span><span class="nx">password</span> <span class="o">===</span> <span class="nx">data</span><span class="p">.</span><span class="nx">confirmPassword</span><span class="p">,</span> <span class="p">{</span>
    <span class="na">message</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Passwords don't match</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">path</span><span class="p">:</span> <span class="p">[</span><span class="dl">"</span><span class="s2">confirmPassword</span><span class="dl">"</span><span class="p">],</span>
  <span class="p">});</span>

<span class="kd">type</span> <span class="nx">CreateUserFormData</span> <span class="o">=</span> <span class="nx">z</span><span class="p">.</span><span class="nx">infer</span><span class="o">&lt;</span><span class="k">typeof</span> <span class="nx">createUserSchema</span><span class="o">&gt;</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="custom-form-hook">Custom Form Hook</h3>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">type</span> <span class="nx">UseFormOptions</span><span class="o">&lt;</span><span class="nx">T</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">initialValues</span><span class="p">:</span> <span class="nx">T</span><span class="p">;</span>
  <span class="nl">validationSchema</span><span class="p">?:</span> <span class="nx">z</span><span class="p">.</span><span class="nx">ZodSchema</span><span class="o">&lt;</span><span class="nx">T</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nl">onSubmit</span><span class="p">:</span> <span class="p">(</span><span class="na">values</span><span class="p">:</span> <span class="nx">T</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span> <span class="o">|</span> <span class="k">void</span><span class="p">;</span>
<span class="p">};</span>

<span class="kd">type</span> <span class="nx">FormField</span><span class="o">&lt;</span><span class="nx">T</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">value</span><span class="p">:</span> <span class="nx">T</span><span class="p">;</span>
  <span class="nl">error</span><span class="p">?:</span> <span class="kr">string</span><span class="p">;</span>
  <span class="nl">touched</span><span class="p">:</span> <span class="nx">boolean</span><span class="p">;</span>
<span class="p">};</span>

<span class="kd">type</span> <span class="nx">FormState</span><span class="o">&lt;</span><span class="nx">T</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">{</span>
  <span class="p">[</span><span class="nx">K</span> <span class="k">in</span> <span class="kr">keyof</span> <span class="nx">T</span><span class="p">]:</span> <span class="nx">FormField</span><span class="o">&lt;</span><span class="nx">T</span><span class="p">[</span><span class="nx">K</span><span class="p">]</span><span class="o">&gt;</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">export</span> <span class="kd">function</span> <span class="nx">useForm</span><span class="o">&lt;</span><span class="nx">T</span> <span class="kd">extends</span> <span class="nb">Record</span><span class="o">&lt;</span><span class="kr">string</span><span class="p">,</span> <span class="kr">any</span><span class="o">&gt;&gt;</span><span class="p">({</span>
  <span class="nx">initialValues</span><span class="p">,</span>
  <span class="nx">validationSchema</span><span class="p">,</span>
  <span class="nx">onSubmit</span><span class="p">,</span>
<span class="p">}:</span> <span class="nx">UseFormOptions</span><span class="o">&lt;</span><span class="nx">T</span><span class="o">&gt;</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">formState</span><span class="p">,</span> <span class="nx">setFormState</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="o">&lt;</span><span class="nx">FormState</span><span class="o">&lt;</span><span class="nx">T</span><span class="o">&gt;&gt;</span><span class="p">(()</span> <span class="o">=&gt;</span>
    <span class="nb">Object</span><span class="p">.</span><span class="nx">keys</span><span class="p">(</span><span class="nx">initialValues</span><span class="p">).</span><span class="nx">reduce</span><span class="p">((</span><span class="nx">acc</span><span class="p">,</span> <span class="nx">key</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">acc</span><span class="p">[</span><span class="nx">key</span> <span class="k">as</span> <span class="kr">keyof</span> <span class="nx">T</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
        <span class="na">value</span><span class="p">:</span> <span class="nx">initialValues</span><span class="p">[</span><span class="nx">key</span><span class="p">],</span>
        <span class="na">error</span><span class="p">:</span> <span class="kc">undefined</span><span class="p">,</span>
        <span class="na">touched</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
      <span class="p">};</span>
      <span class="k">return</span> <span class="nx">acc</span><span class="p">;</span>
    <span class="p">},</span> <span class="p">{}</span> <span class="k">as</span> <span class="nx">FormState</span><span class="o">&lt;</span><span class="nx">T</span><span class="o">&gt;</span><span class="p">)</span>
  <span class="p">);</span>

  <span class="kd">const</span> <span class="p">[</span><span class="nx">isSubmitting</span><span class="p">,</span> <span class="nx">setIsSubmitting</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>

  <span class="kd">const</span> <span class="nx">setValue</span> <span class="o">=</span> <span class="nx">useCallback</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">K</span> <span class="kd">extends</span> <span class="kr">keyof</span> <span class="nx">T</span><span class="o">&gt;</span><span class="p">(</span><span class="nx">field</span><span class="p">:</span> <span class="nx">K</span><span class="p">,</span> <span class="nx">value</span><span class="p">:</span> <span class="nx">T</span><span class="p">[</span><span class="nx">K</span><span class="p">])</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">setFormState</span><span class="p">((</span><span class="nx">prev</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">({</span>
      <span class="p">...</span><span class="nx">prev</span><span class="p">,</span>
      <span class="p">[</span><span class="nx">field</span><span class="p">]:</span> <span class="p">{</span>
        <span class="p">...</span><span class="nx">prev</span><span class="p">[</span><span class="nx">field</span><span class="p">],</span>
        <span class="nx">value</span><span class="p">,</span>
        <span class="na">touched</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
      <span class="p">},</span>
    <span class="p">}));</span>
  <span class="p">},</span> <span class="p">[]);</span>

  <span class="kd">const</span> <span class="nx">setError</span> <span class="o">=</span> <span class="nx">useCallback</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">K</span> <span class="kd">extends</span> <span class="kr">keyof</span> <span class="nx">T</span><span class="o">&gt;</span><span class="p">(</span><span class="nx">field</span><span class="p">:</span> <span class="nx">K</span><span class="p">,</span> <span class="nx">error</span><span class="p">:</span> <span class="kr">string</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">setFormState</span><span class="p">((</span><span class="nx">prev</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">({</span>
      <span class="p">...</span><span class="nx">prev</span><span class="p">,</span>
      <span class="p">[</span><span class="nx">field</span><span class="p">]:</span> <span class="p">{</span>
        <span class="p">...</span><span class="nx">prev</span><span class="p">[</span><span class="nx">field</span><span class="p">],</span>
        <span class="nx">error</span><span class="p">,</span>
      <span class="p">},</span>
    <span class="p">}));</span>
  <span class="p">},</span> <span class="p">[]);</span>

  <span class="kd">const</span> <span class="nx">validate</span> <span class="o">=</span> <span class="nx">useCallback</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">validationSchema</span><span class="p">)</span> <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>

    <span class="kd">const</span> <span class="nx">values</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">keys</span><span class="p">(</span><span class="nx">formState</span><span class="p">).</span><span class="nx">reduce</span><span class="p">((</span><span class="nx">acc</span><span class="p">,</span> <span class="nx">key</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">acc</span><span class="p">[</span><span class="nx">key</span> <span class="k">as</span> <span class="kr">keyof</span> <span class="nx">T</span><span class="p">]</span> <span class="o">=</span> <span class="nx">formState</span><span class="p">[</span><span class="nx">key</span> <span class="k">as</span> <span class="kr">keyof</span> <span class="nx">T</span><span class="p">].</span><span class="nx">value</span><span class="p">;</span>
      <span class="k">return</span> <span class="nx">acc</span><span class="p">;</span>
    <span class="p">},</span> <span class="p">{}</span> <span class="k">as</span> <span class="nx">T</span><span class="p">);</span>

    <span class="kd">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">validationSchema</span><span class="p">.</span><span class="nx">safeParse</span><span class="p">(</span><span class="nx">values</span><span class="p">);</span>

    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">result</span><span class="p">.</span><span class="nx">success</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">result</span><span class="p">.</span><span class="nx">error</span><span class="p">.</span><span class="nx">errors</span><span class="p">.</span><span class="nx">forEach</span><span class="p">((</span><span class="nx">error</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="kd">const</span> <span class="nx">field</span> <span class="o">=</span> <span class="nx">error</span><span class="p">.</span><span class="nx">path</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">as</span> <span class="kr">keyof</span> <span class="nx">T</span><span class="p">;</span>
        <span class="nx">setError</span><span class="p">(</span><span class="nx">field</span><span class="p">,</span> <span class="nx">error</span><span class="p">.</span><span class="nx">message</span><span class="p">);</span>
      <span class="p">});</span>
      <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="c1">// Clear errors if validation passes</span>
    <span class="nb">Object</span><span class="p">.</span><span class="nx">keys</span><span class="p">(</span><span class="nx">formState</span><span class="p">).</span><span class="nx">forEach</span><span class="p">((</span><span class="nx">key</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">setFormState</span><span class="p">((</span><span class="nx">prev</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">({</span>
        <span class="p">...</span><span class="nx">prev</span><span class="p">,</span>
        <span class="p">[</span><span class="nx">key</span><span class="p">]:</span> <span class="p">{</span>
          <span class="p">...</span><span class="nx">prev</span><span class="p">[</span><span class="nx">key</span> <span class="k">as</span> <span class="kr">keyof</span> <span class="nx">T</span><span class="p">],</span>
          <span class="na">error</span><span class="p">:</span> <span class="kc">undefined</span><span class="p">,</span>
        <span class="p">},</span>
      <span class="p">}));</span>
    <span class="p">});</span>

    <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
  <span class="p">},</span> <span class="p">[</span><span class="nx">formState</span><span class="p">,</span> <span class="nx">validationSchema</span><span class="p">,</span> <span class="nx">setError</span><span class="p">]);</span>

  <span class="kd">const</span> <span class="nx">handleSubmit</span> <span class="o">=</span> <span class="nx">useCallback</span><span class="p">(</span>
    <span class="k">async</span> <span class="p">(</span><span class="nx">e</span><span class="p">?:</span> <span class="nx">React</span><span class="p">.</span><span class="nx">FormEvent</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">e</span><span class="p">?.</span><span class="nx">preventDefault</span><span class="p">();</span>

      <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">validate</span><span class="p">())</span> <span class="k">return</span><span class="p">;</span>

      <span class="nx">setIsSubmitting</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>

      <span class="k">try</span> <span class="p">{</span>
        <span class="kd">const</span> <span class="nx">values</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">keys</span><span class="p">(</span><span class="nx">formState</span><span class="p">).</span><span class="nx">reduce</span><span class="p">((</span><span class="nx">acc</span><span class="p">,</span> <span class="nx">key</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
          <span class="nx">acc</span><span class="p">[</span><span class="nx">key</span> <span class="k">as</span> <span class="kr">keyof</span> <span class="nx">T</span><span class="p">]</span> <span class="o">=</span> <span class="nx">formState</span><span class="p">[</span><span class="nx">key</span> <span class="k">as</span> <span class="kr">keyof</span> <span class="nx">T</span><span class="p">].</span><span class="nx">value</span><span class="p">;</span>
          <span class="k">return</span> <span class="nx">acc</span><span class="p">;</span>
        <span class="p">},</span> <span class="p">{}</span> <span class="k">as</span> <span class="nx">T</span><span class="p">);</span>

        <span class="k">await</span> <span class="nx">onSubmit</span><span class="p">(</span><span class="nx">values</span><span class="p">);</span>
      <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="dl">"</span><span class="s2">Form submission failed:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">error</span><span class="p">);</span>
      <span class="p">}</span> <span class="k">finally</span> <span class="p">{</span>
        <span class="nx">setIsSubmitting</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="p">[</span><span class="nx">formState</span><span class="p">,</span> <span class="nx">validate</span><span class="p">,</span> <span class="nx">onSubmit</span><span class="p">]</span>
  <span class="p">);</span>

  <span class="kd">const</span> <span class="nx">reset</span> <span class="o">=</span> <span class="nx">useCallback</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">setFormState</span><span class="p">(</span>
      <span class="nb">Object</span><span class="p">.</span><span class="nx">keys</span><span class="p">(</span><span class="nx">initialValues</span><span class="p">).</span><span class="nx">reduce</span><span class="p">((</span><span class="nx">acc</span><span class="p">,</span> <span class="nx">key</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">acc</span><span class="p">[</span><span class="nx">key</span> <span class="k">as</span> <span class="kr">keyof</span> <span class="nx">T</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
          <span class="na">value</span><span class="p">:</span> <span class="nx">initialValues</span><span class="p">[</span><span class="nx">key</span><span class="p">],</span>
          <span class="na">error</span><span class="p">:</span> <span class="kc">undefined</span><span class="p">,</span>
          <span class="na">touched</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
        <span class="p">};</span>
        <span class="k">return</span> <span class="nx">acc</span><span class="p">;</span>
      <span class="p">},</span> <span class="p">{}</span> <span class="k">as</span> <span class="nx">FormState</span><span class="o">&lt;</span><span class="nx">T</span><span class="o">&gt;</span><span class="p">)</span>
    <span class="p">);</span>
  <span class="p">},</span> <span class="p">[</span><span class="nx">initialValues</span><span class="p">]);</span>

  <span class="kd">const</span> <span class="nx">getFieldProps</span> <span class="o">=</span> <span class="nx">useCallback</span><span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">K</span> <span class="kd">extends</span> <span class="kr">keyof</span> <span class="nx">T</span><span class="o">&gt;</span><span class="p">(</span><span class="nx">field</span><span class="p">:</span> <span class="nx">K</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">({</span>
      <span class="na">value</span><span class="p">:</span> <span class="nx">formState</span><span class="p">[</span><span class="nx">field</span><span class="p">].</span><span class="nx">value</span><span class="p">,</span>
      <span class="na">error</span><span class="p">:</span> <span class="nx">formState</span><span class="p">[</span><span class="nx">field</span><span class="p">].</span><span class="nx">error</span><span class="p">,</span>
      <span class="na">onChange</span><span class="p">:</span> <span class="p">(</span><span class="na">value</span><span class="p">:</span> <span class="nx">T</span><span class="p">[</span><span class="nx">K</span><span class="p">])</span> <span class="o">=&gt;</span> <span class="nx">setValue</span><span class="p">(</span><span class="nx">field</span><span class="p">,</span> <span class="nx">value</span><span class="p">),</span>
      <span class="na">onBlur</span><span class="p">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">setFormState</span><span class="p">((</span><span class="nx">prev</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">({</span>
          <span class="p">...</span><span class="nx">prev</span><span class="p">,</span>
          <span class="p">[</span><span class="nx">field</span><span class="p">]:</span> <span class="p">{</span>
            <span class="p">...</span><span class="nx">prev</span><span class="p">[</span><span class="nx">field</span><span class="p">],</span>
            <span class="na">touched</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
          <span class="p">},</span>
        <span class="p">}));</span>
      <span class="p">},</span>
    <span class="p">}),</span>
    <span class="p">[</span><span class="nx">formState</span><span class="p">,</span> <span class="nx">setValue</span><span class="p">]</span>
  <span class="p">);</span>

  <span class="k">return</span> <span class="p">{</span>
    <span class="nx">formState</span><span class="p">,</span>
    <span class="nx">setValue</span><span class="p">,</span>
    <span class="nx">setError</span><span class="p">,</span>
    <span class="nx">validate</span><span class="p">,</span>
    <span class="nx">handleSubmit</span><span class="p">,</span>
    <span class="nx">reset</span><span class="p">,</span>
    <span class="nx">getFieldProps</span><span class="p">,</span>
    <span class="nx">isSubmitting</span><span class="p">,</span>
    <span class="na">values</span><span class="p">:</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">keys</span><span class="p">(</span><span class="nx">formState</span><span class="p">).</span><span class="nx">reduce</span><span class="p">((</span><span class="nx">acc</span><span class="p">,</span> <span class="nx">key</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">acc</span><span class="p">[</span><span class="nx">key</span> <span class="k">as</span> <span class="kr">keyof</span> <span class="nx">T</span><span class="p">]</span> <span class="o">=</span> <span class="nx">formState</span><span class="p">[</span><span class="nx">key</span> <span class="k">as</span> <span class="kr">keyof</span> <span class="nx">T</span><span class="p">].</span><span class="nx">value</span><span class="p">;</span>
      <span class="k">return</span> <span class="nx">acc</span><span class="p">;</span>
    <span class="p">},</span> <span class="p">{}</span> <span class="k">as</span> <span class="nx">T</span><span class="p">),</span>
  <span class="p">};</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="styling-guidelines">Styling Guidelines</h2>

<h3 id="css-architecture">CSS Architecture</h3>

<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">/* Base styles */</span>
<span class="nd">:root</span> <span class="p">{</span>
  <span class="c">/* Colors */</span>
  <span class="py">--color-primary</span><span class="p">:</span> <span class="m">#3b82f6</span><span class="p">;</span>
  <span class="py">--color-secondary</span><span class="p">:</span> <span class="m">#64748b</span><span class="p">;</span>
  <span class="py">--color-success</span><span class="p">:</span> <span class="m">#10b981</span><span class="p">;</span>
  <span class="py">--color-warning</span><span class="p">:</span> <span class="m">#f59e0b</span><span class="p">;</span>
  <span class="py">--color-error</span><span class="p">:</span> <span class="m">#ef4444</span><span class="p">;</span>

  <span class="c">/* Typography */</span>
  <span class="py">--font-family-sans</span><span class="p">:</span> <span class="s1">"Inter"</span><span class="p">,</span> <span class="nb">sans-serif</span><span class="p">;</span>
  <span class="py">--font-size-xs</span><span class="p">:</span> <span class="m">0.75rem</span><span class="p">;</span>
  <span class="py">--font-size-sm</span><span class="p">:</span> <span class="m">0.875rem</span><span class="p">;</span>
  <span class="py">--font-size-base</span><span class="p">:</span> <span class="m">1rem</span><span class="p">;</span>
  <span class="py">--font-size-lg</span><span class="p">:</span> <span class="m">1.125rem</span><span class="p">;</span>
  <span class="py">--font-size-xl</span><span class="p">:</span> <span class="m">1.25rem</span><span class="p">;</span>

  <span class="c">/* Spacing */</span>
  <span class="py">--spacing-1</span><span class="p">:</span> <span class="m">0.25rem</span><span class="p">;</span>
  <span class="py">--spacing-2</span><span class="p">:</span> <span class="m">0.5rem</span><span class="p">;</span>
  <span class="py">--spacing-3</span><span class="p">:</span> <span class="m">0.75rem</span><span class="p">;</span>
  <span class="py">--spacing-4</span><span class="p">:</span> <span class="m">1rem</span><span class="p">;</span>
  <span class="py">--spacing-6</span><span class="p">:</span> <span class="m">1.5rem</span><span class="p">;</span>
  <span class="py">--spacing-8</span><span class="p">:</span> <span class="m">2rem</span><span class="p">;</span>

  <span class="c">/* Borders */</span>
  <span class="py">--border-radius-sm</span><span class="p">:</span> <span class="m">0.25rem</span><span class="p">;</span>
  <span class="py">--border-radius-md</span><span class="p">:</span> <span class="m">0.375rem</span><span class="p">;</span>
  <span class="py">--border-radius-lg</span><span class="p">:</span> <span class="m">0.5rem</span><span class="p">;</span>

  <span class="c">/* Shadows */</span>
  <span class="py">--shadow-sm</span><span class="p">:</span> <span class="m">0</span> <span class="m">1px</span> <span class="m">2px</span> <span class="m">0</span> <span class="nb">rgb</span><span class="p">(</span><span class="m">0</span> <span class="m">0</span> <span class="m">0</span> <span class="p">/</span> <span class="m">0.05</span><span class="p">);</span>
  <span class="py">--shadow-md</span><span class="p">:</span> <span class="m">0</span> <span class="m">4px</span> <span class="m">6px</span> <span class="m">-1px</span> <span class="nb">rgb</span><span class="p">(</span><span class="m">0</span> <span class="m">0</span> <span class="m">0</span> <span class="p">/</span> <span class="m">0.1</span><span class="p">);</span>
  <span class="py">--shadow-lg</span><span class="p">:</span> <span class="m">0</span> <span class="m">10px</span> <span class="m">15px</span> <span class="m">-3px</span> <span class="nb">rgb</span><span class="p">(</span><span class="m">0</span> <span class="m">0</span> <span class="m">0</span> <span class="p">/</span> <span class="m">0.1</span><span class="p">);</span>
<span class="p">}</span>

<span class="c">/* Component styles using BEM methodology */</span>
<span class="nc">.button</span> <span class="p">{</span>
  <span class="nl">padding</span><span class="p">:</span> <span class="n">var</span><span class="p">(</span><span class="n">--spacing-2</span><span class="p">)</span> <span class="n">var</span><span class="p">(</span><span class="n">--spacing-4</span><span class="p">);</span>
  <span class="nl">border-radius</span><span class="p">:</span> <span class="n">var</span><span class="p">(</span><span class="n">--border-radius-md</span><span class="p">);</span>
  <span class="nl">font-weight</span><span class="p">:</span> <span class="m">500</span><span class="p">;</span>
  <span class="nl">transition</span><span class="p">:</span> <span class="n">all</span> <span class="m">0.2s</span> <span class="n">ease-in-out</span><span class="p">;</span>

  <span class="err">&amp;--primary</span> <span class="err">{</span>
    <span class="nl">background-color</span><span class="p">:</span> <span class="n">var</span><span class="p">(</span><span class="n">--color-primary</span><span class="p">);</span>
    <span class="nl">color</span><span class="p">:</span> <span class="no">white</span><span class="p">;</span>

    <span class="err">&amp;:hover</span> <span class="err">{</span>
      <span class="nl">background-color</span><span class="p">:</span> <span class="n">color-mix</span><span class="p">(</span><span class="n">in</span> <span class="n">srgb</span><span class="p">,</span> <span class="n">var</span><span class="p">(</span><span class="n">--color-primary</span><span class="p">)</span> <span class="m">90%</span><span class="p">,</span> <span class="no">black</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="err">}</span>

  <span class="o">&amp;</span><span class="nt">--secondary</span> <span class="p">{</span>
    <span class="nl">background-color</span><span class="p">:</span> <span class="n">var</span><span class="p">(</span><span class="n">--color-secondary</span><span class="p">);</span>
    <span class="nl">color</span><span class="p">:</span> <span class="no">white</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="o">&amp;</span><span class="nt">--disabled</span> <span class="p">{</span>
    <span class="nl">opacity</span><span class="p">:</span> <span class="m">0.5</span><span class="p">;</span>
    <span class="nl">cursor</span><span class="p">:</span> <span class="n">not-allowed</span><span class="p">;</span>
  <span class="p">}</span>
<span class="err">}</span>
</code></pre></div></div>

<h3 id="tailwind-css-best-practices">Tailwind CSS Best Practices</h3>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Use utility classes effectively</span>
<span class="kd">const</span> <span class="nx">Button</span><span class="p">:</span> <span class="nx">React</span><span class="p">.</span><span class="nx">FC</span><span class="o">&lt;</span><span class="nx">ButtonProps</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">({</span>
  <span class="nx">variant</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">primary</span><span class="dl">'</span><span class="p">,</span>
  <span class="nx">size</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">md</span><span class="dl">'</span><span class="p">,</span>
  <span class="nx">disabled</span> <span class="o">=</span> <span class="kc">false</span><span class="p">,</span>
  <span class="nx">className</span><span class="p">,</span>
  <span class="nx">children</span><span class="p">,</span>
  <span class="p">...</span><span class="nx">props</span>
<span class="p">})</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">button</span>
      <span class="nx">className</span><span class="o">=</span><span class="p">{</span><span class="nx">cn</span><span class="p">(</span>
        <span class="c1">// Base styles</span>
        <span class="dl">'</span><span class="s1">inline-flex items-center justify-center rounded-md font-medium transition-colors</span><span class="dl">'</span><span class="p">,</span>
        <span class="dl">'</span><span class="s1">focus:outline-none focus:ring-2 focus:ring-offset-2</span><span class="dl">'</span><span class="p">,</span>
        <span class="dl">'</span><span class="s1">disabled:opacity-50 disabled:cursor-not-allowed</span><span class="dl">'</span><span class="p">,</span>

        <span class="c1">// Variant styles</span>
        <span class="p">{</span>
          <span class="dl">'</span><span class="s1">bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500</span><span class="dl">'</span><span class="p">:</span>
            <span class="nx">variant</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">primary</span><span class="dl">'</span><span class="p">,</span>
          <span class="dl">'</span><span class="s1">bg-gray-600 text-white hover:bg-gray-700 focus:ring-gray-500</span><span class="dl">'</span><span class="p">:</span>
            <span class="nx">variant</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">secondary</span><span class="dl">'</span><span class="p">,</span>
          <span class="dl">'</span><span class="s1">border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 focus:ring-gray-500</span><span class="dl">'</span><span class="p">:</span>
            <span class="nx">variant</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">outline</span><span class="dl">'</span><span class="p">,</span>
        <span class="p">},</span>

        <span class="c1">// Size styles</span>
        <span class="p">{</span>
          <span class="dl">'</span><span class="s1">px-2 py-1 text-sm</span><span class="dl">'</span><span class="p">:</span> <span class="nx">size</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">sm</span><span class="dl">'</span><span class="p">,</span>
          <span class="dl">'</span><span class="s1">px-4 py-2 text-base</span><span class="dl">'</span><span class="p">:</span> <span class="nx">size</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">md</span><span class="dl">'</span><span class="p">,</span>
          <span class="dl">'</span><span class="s1">px-6 py-3 text-lg</span><span class="dl">'</span><span class="p">:</span> <span class="nx">size</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">lg</span><span class="dl">'</span><span class="p">,</span>
        <span class="p">},</span>

        <span class="nx">className</span>
      <span class="p">)}</span>
      <span class="nx">disabled</span><span class="o">=</span><span class="p">{</span><span class="nx">disabled</span><span class="p">}</span>
      <span class="p">{...</span><span class="nx">props</span><span class="p">}</span>
    <span class="o">&gt;</span>
      <span class="p">{</span><span class="nx">children</span><span class="p">}</span>
    <span class="o">&lt;</span><span class="sr">/button</span><span class="err">&gt;
</span>  <span class="p">);</span>
<span class="p">};</span>
</code></pre></div></div>

<h3 id="image-optimization">Image Optimization</h3>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">Image</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">next/image</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">useState</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">type</span> <span class="nx">OptimizedImageProps</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">src</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
  <span class="nl">alt</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
  <span class="nl">width</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
  <span class="nl">height</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
  <span class="nl">priority</span><span class="p">?:</span> <span class="nx">boolean</span><span class="p">;</span>
  <span class="nl">className</span><span class="p">?:</span> <span class="kr">string</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">const</span> <span class="nx">OptimizedImage</span><span class="p">:</span> <span class="nx">React</span><span class="p">.</span><span class="nx">FC</span><span class="o">&lt;</span><span class="nx">OptimizedImageProps</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">({</span>
  <span class="nx">src</span><span class="p">,</span>
  <span class="nx">alt</span><span class="p">,</span>
  <span class="nx">width</span><span class="p">,</span>
  <span class="nx">height</span><span class="p">,</span>
  <span class="nx">priority</span> <span class="o">=</span> <span class="kc">false</span><span class="p">,</span>
  <span class="nx">className</span><span class="p">,</span>
<span class="p">})</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">isLoading</span><span class="p">,</span> <span class="nx">setIsLoading</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">hasError</span><span class="p">,</span> <span class="nx">setHasError</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>

  <span class="kd">const</span> <span class="nx">handleLoad</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">setIsLoading</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
  <span class="p">};</span>

  <span class="kd">const</span> <span class="nx">handleError</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">setIsLoading</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
    <span class="nx">setHasError</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
  <span class="p">};</span>

  <span class="k">if</span> <span class="p">(</span><span class="nx">hasError</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span>
      <span class="o">&lt;</span><span class="nx">div</span>
        <span class="nx">className</span><span class="o">=</span><span class="p">{</span><span class="s2">`bg-gray-200 flex items-center justify-center </span><span class="p">${</span><span class="nx">className</span><span class="p">}</span><span class="s2">`</span><span class="p">}</span>
        <span class="nx">style</span><span class="o">=</span>
      <span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">span</span> <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2">text-gray-500</span><span class="dl">"</span><span class="o">&gt;</span><span class="nx">Failed</span> <span class="nx">to</span> <span class="nx">load</span> <span class="nx">image</span><span class="o">&lt;</span><span class="sr">/span</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>    <span class="p">);</span>
  <span class="p">}</span>

  <span class="k">return</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="p">{</span><span class="s2">`relative </span><span class="p">${</span><span class="nx">className</span><span class="p">}</span><span class="s2">`</span><span class="p">}</span><span class="o">&gt;</span>
      <span class="p">{</span><span class="nx">isLoading</span> <span class="o">&amp;&amp;</span> <span class="p">(</span>
        <span class="o">&lt;</span><span class="nx">div</span>
          <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2">absolute inset-0 bg-gray-200 animate-pulse rounded</span><span class="dl">"</span>
          <span class="nx">style</span><span class="o">=</span>
        <span class="sr">/</span><span class="err">&gt;
</span>      <span class="p">)}</span>
      <span class="o">&lt;</span><span class="nx">Image</span>
        <span class="nx">src</span><span class="o">=</span><span class="p">{</span><span class="nx">src</span><span class="p">}</span>
        <span class="nx">alt</span><span class="o">=</span><span class="p">{</span><span class="nx">alt</span><span class="p">}</span>
        <span class="nx">width</span><span class="o">=</span><span class="p">{</span><span class="nx">width</span><span class="p">}</span>
        <span class="nx">height</span><span class="o">=</span><span class="p">{</span><span class="nx">height</span><span class="p">}</span>
        <span class="nx">priority</span><span class="o">=</span><span class="p">{</span><span class="nx">priority</span><span class="p">}</span>
        <span class="nx">className</span><span class="o">=</span><span class="p">{</span><span class="s2">`transition-opacity duration-300 </span><span class="p">${</span>
          <span class="nx">isLoading</span> <span class="p">?</span> <span class="dl">'</span><span class="s1">opacity-0</span><span class="dl">'</span> <span class="p">:</span> <span class="dl">'</span><span class="s1">opacity-100</span><span class="dl">'</span>
        <span class="p">}</span><span class="s2">`</span><span class="p">}</span>
        <span class="nx">onLoad</span><span class="o">=</span><span class="p">{</span><span class="nx">handleLoad</span><span class="p">}</span>
        <span class="nx">onError</span><span class="o">=</span><span class="p">{</span><span class="nx">handleError</span><span class="p">}</span>
        <span class="nx">sizes</span><span class="o">=</span><span class="dl">"</span><span class="s2">(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw</span><span class="dl">"</span>
      <span class="o">/&gt;</span>
    <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>  <span class="p">);</span>
<span class="p">};</span>
</code></pre></div></div>

<h2 id="error-handling">Error Handling</h2>

<h3 id="error-boundaries">Error Boundaries</h3>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">ErrorInfo</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">type</span> <span class="nx">ErrorBoundaryState</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">hasError</span><span class="p">:</span> <span class="nx">boolean</span><span class="p">;</span>
  <span class="nl">error</span><span class="p">?:</span> <span class="nb">Error</span><span class="p">;</span>
  <span class="nl">errorInfo</span><span class="p">?:</span> <span class="nx">ErrorInfo</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">type</span> <span class="nx">ErrorBoundaryProps</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">children</span><span class="p">:</span> <span class="nx">React</span><span class="p">.</span><span class="nx">ReactNode</span><span class="p">;</span>
  <span class="nl">fallback</span><span class="p">?:</span> <span class="nx">React</span><span class="p">.</span><span class="nx">ComponentType</span><span class="o">&lt;</span><span class="p">{</span> <span class="nx">error</span><span class="p">?:</span> <span class="nb">Error</span><span class="p">;</span> <span class="nl">resetError</span><span class="p">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="k">void</span> <span class="p">}</span><span class="o">&gt;</span><span class="p">;</span>
  <span class="nl">onError</span><span class="p">?:</span> <span class="p">(</span><span class="na">error</span><span class="p">:</span> <span class="nb">Error</span><span class="p">,</span> <span class="na">errorInfo</span><span class="p">:</span> <span class="nx">ErrorInfo</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="k">void</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nx">ErrorBoundary</span> <span class="kd">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span><span class="o">&lt;</span><span class="nx">ErrorBoundaryProps</span><span class="p">,</span> <span class="nx">ErrorBoundaryState</span><span class="o">&gt;</span> <span class="p">{</span>
  <span class="kd">constructor</span><span class="p">(</span><span class="na">props</span><span class="p">:</span> <span class="nx">ErrorBoundaryProps</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">super</span><span class="p">(</span><span class="nx">props</span><span class="p">);</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">state</span> <span class="o">=</span> <span class="p">{</span> <span class="na">hasError</span><span class="p">:</span> <span class="kc">false</span> <span class="p">};</span>
  <span class="p">}</span>

  <span class="k">static</span> <span class="nx">getDerivedStateFromError</span><span class="p">(</span><span class="na">error</span><span class="p">:</span> <span class="nb">Error</span><span class="p">):</span> <span class="nx">ErrorBoundaryState</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">{</span>
      <span class="na">hasError</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
      <span class="nx">error</span><span class="p">,</span>
    <span class="p">};</span>
  <span class="p">}</span>

  <span class="nx">componentDidCatch</span><span class="p">(</span><span class="na">error</span><span class="p">:</span> <span class="nb">Error</span><span class="p">,</span> <span class="na">errorInfo</span><span class="p">:</span> <span class="nx">ErrorInfo</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="dl">'</span><span class="s1">Error Boundary caught an error:</span><span class="dl">'</span><span class="p">,</span> <span class="nx">error</span><span class="p">,</span> <span class="nx">errorInfo</span><span class="p">);</span>

    <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span>
      <span class="nx">error</span><span class="p">,</span>
      <span class="nx">errorInfo</span><span class="p">,</span>
    <span class="p">});</span>

    <span class="c1">// Log to error reporting service</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">onError</span><span class="p">?.(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">errorInfo</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="nx">resetError</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span> <span class="na">hasError</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span> <span class="na">error</span><span class="p">:</span> <span class="kc">undefined</span><span class="p">,</span> <span class="na">errorInfo</span><span class="p">:</span> <span class="kc">undefined</span> <span class="p">});</span>
  <span class="p">};</span>

  <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">hasError</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">const</span> <span class="nx">FallbackComponent</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">fallback</span> <span class="o">||</span> <span class="nx">DefaultErrorFallback</span><span class="p">;</span>
      <span class="k">return</span> <span class="p">(</span>
        <span class="o">&lt;</span><span class="nx">FallbackComponent</span>
          <span class="nx">error</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">error</span><span class="p">}</span>
          <span class="nx">resetError</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">resetError</span><span class="p">}</span>
        <span class="sr">/</span><span class="err">&gt;
</span>      <span class="p">);</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">children</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="kd">const</span> <span class="nx">DefaultErrorFallback</span><span class="p">:</span> <span class="nx">React</span><span class="p">.</span><span class="nx">FC</span><span class="o">&lt;</span><span class="p">{</span>
  <span class="nx">error</span><span class="p">?:</span> <span class="nb">Error</span><span class="p">;</span>
  <span class="nl">resetError</span><span class="p">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="k">void</span>
<span class="p">}</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">({</span> <span class="nx">error</span><span class="p">,</span> <span class="nx">resetError</span> <span class="p">})</span> <span class="o">=&gt;</span> <span class="p">(</span>
  <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2">flex flex-col items-center justify-center min-h-[400px] p-8</span><span class="dl">"</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="nx">h2</span> <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2">text-2xl font-bold text-red-600 mb-4</span><span class="dl">"</span><span class="o">&gt;</span>
      <span class="nx">Something</span> <span class="nx">went</span> <span class="nx">wrong</span>
    <span class="o">&lt;</span><span class="sr">/h2</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="nx">p</span> <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2">text-gray-600 mb-4 text-center</span><span class="dl">"</span><span class="o">&gt;</span>
      <span class="p">{</span><span class="nx">error</span><span class="p">?.</span><span class="nx">message</span> <span class="o">||</span> <span class="dl">'</span><span class="s1">An unexpected error occurred</span><span class="dl">'</span><span class="p">}</span>
    <span class="o">&lt;</span><span class="sr">/p</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="nx">button</span>
      <span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">resetError</span><span class="p">}</span>
      <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2">px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700</span><span class="dl">"</span>
    <span class="o">&gt;</span>
      <span class="nx">Try</span> <span class="nx">again</span>
    <span class="o">&lt;</span><span class="sr">/button</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span><span class="p">);</span>
</code></pre></div></div>

<h3 id="api-error-handling">API Error Handling</h3>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Error types</span>
<span class="k">export</span> <span class="kd">class</span> <span class="nx">ApiError</span> <span class="kd">extends</span> <span class="nb">Error</span> <span class="p">{</span>
  <span class="kd">constructor</span><span class="p">(</span>
    <span class="nx">message</span><span class="p">:</span> <span class="kr">string</span><span class="p">,</span>
    <span class="k">public</span> <span class="nx">status</span><span class="p">:</span> <span class="kr">number</span><span class="p">,</span>
    <span class="k">public</span> <span class="nx">code</span><span class="p">?:</span> <span class="kr">string</span><span class="p">,</span>
    <span class="k">public</span> <span class="nx">details</span><span class="p">?:</span> <span class="kr">any</span>
  <span class="p">)</span> <span class="p">{</span>
    <span class="k">super</span><span class="p">(</span><span class="nx">message</span><span class="p">);</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">ApiError</span><span class="dl">"</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="k">export</span> <span class="kd">class</span> <span class="nx">ValidationError</span> <span class="kd">extends</span> <span class="nx">ApiError</span> <span class="p">{</span>
  <span class="kd">constructor</span><span class="p">(</span>
    <span class="nx">message</span><span class="p">:</span> <span class="kr">string</span><span class="p">,</span>
    <span class="k">public</span> <span class="nx">errors</span><span class="p">:</span> <span class="nb">Record</span><span class="o">&lt;</span><span class="kr">string</span><span class="p">,</span> <span class="kr">string</span><span class="p">[]</span><span class="o">&gt;</span>
  <span class="p">)</span> <span class="p">{</span>
    <span class="k">super</span><span class="p">(</span><span class="nx">message</span><span class="p">,</span> <span class="mi">422</span><span class="p">,</span> <span class="dl">"</span><span class="s2">VALIDATION_ERROR</span><span class="dl">"</span><span class="p">);</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">ValidationError</span><span class="dl">"</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// Enhanced API client with error handling</span>
<span class="kd">class</span> <span class="nx">ApiClient</span> <span class="p">{</span>
  <span class="k">private</span> <span class="nx">handleError</span><span class="p">(</span><span class="nx">error</span><span class="p">:</span> <span class="kr">any</span><span class="p">):</span> <span class="nx">never</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">error</span><span class="p">.</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">const</span> <span class="p">{</span> <span class="nx">status</span><span class="p">,</span> <span class="nx">data</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">error</span><span class="p">.</span><span class="nx">response</span><span class="p">;</span>

      <span class="k">switch</span> <span class="p">(</span><span class="nx">status</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">case</span> <span class="mi">400</span><span class="p">:</span>
          <span class="k">throw</span> <span class="k">new</span> <span class="nx">ApiError</span><span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">message</span> <span class="o">||</span> <span class="dl">"</span><span class="s2">Bad Request</span><span class="dl">"</span><span class="p">,</span> <span class="nx">status</span><span class="p">,</span> <span class="nx">data</span><span class="p">.</span><span class="nx">code</span><span class="p">);</span>
        <span class="k">case</span> <span class="mi">401</span><span class="p">:</span>
          <span class="k">throw</span> <span class="k">new</span> <span class="nx">ApiError</span><span class="p">(</span><span class="dl">"</span><span class="s2">Unauthorized</span><span class="dl">"</span><span class="p">,</span> <span class="nx">status</span><span class="p">,</span> <span class="dl">"</span><span class="s2">UNAUTHORIZED</span><span class="dl">"</span><span class="p">);</span>
        <span class="k">case</span> <span class="mi">403</span><span class="p">:</span>
          <span class="k">throw</span> <span class="k">new</span> <span class="nx">ApiError</span><span class="p">(</span><span class="dl">"</span><span class="s2">Forbidden</span><span class="dl">"</span><span class="p">,</span> <span class="nx">status</span><span class="p">,</span> <span class="dl">"</span><span class="s2">FORBIDDEN</span><span class="dl">"</span><span class="p">);</span>
        <span class="k">case</span> <span class="mi">404</span><span class="p">:</span>
          <span class="k">throw</span> <span class="k">new</span> <span class="nx">ApiError</span><span class="p">(</span><span class="dl">"</span><span class="s2">Not Found</span><span class="dl">"</span><span class="p">,</span> <span class="nx">status</span><span class="p">,</span> <span class="dl">"</span><span class="s2">NOT_FOUND</span><span class="dl">"</span><span class="p">);</span>
        <span class="k">case</span> <span class="mi">422</span><span class="p">:</span>
          <span class="k">throw</span> <span class="k">new</span> <span class="nx">ValidationError</span><span class="p">(</span><span class="dl">"</span><span class="s2">Validation Error</span><span class="dl">"</span><span class="p">,</span> <span class="nx">data</span><span class="p">.</span><span class="nx">errors</span> <span class="o">||</span> <span class="p">{});</span>
        <span class="k">case</span> <span class="mi">429</span><span class="p">:</span>
          <span class="k">throw</span> <span class="k">new</span> <span class="nx">ApiError</span><span class="p">(</span><span class="dl">"</span><span class="s2">Too Many Requests</span><span class="dl">"</span><span class="p">,</span> <span class="nx">status</span><span class="p">,</span> <span class="dl">"</span><span class="s2">RATE_LIMITED</span><span class="dl">"</span><span class="p">);</span>
        <span class="nl">default</span><span class="p">:</span>
          <span class="k">throw</span> <span class="k">new</span> <span class="nx">ApiError</span><span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">message</span> <span class="o">||</span> <span class="dl">"</span><span class="s2">Server Error</span><span class="dl">"</span><span class="p">,</span> <span class="nx">status</span><span class="p">,</span> <span class="nx">data</span><span class="p">.</span><span class="nx">code</span><span class="p">);</span>
      <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">if</span> <span class="p">(</span><span class="nx">error</span><span class="p">.</span><span class="nx">request</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">throw</span> <span class="k">new</span> <span class="nx">ApiError</span><span class="p">(</span><span class="dl">"</span><span class="s2">Network Error</span><span class="dl">"</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="dl">"</span><span class="s2">NETWORK_ERROR</span><span class="dl">"</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">throw</span> <span class="k">new</span> <span class="nx">ApiError</span><span class="p">(</span><span class="dl">"</span><span class="s2">Unknown Error</span><span class="dl">"</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="dl">"</span><span class="s2">UNKNOWN_ERROR</span><span class="dl">"</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="security-best-practices">Security Best Practices</h2>

<h3 id="input-sanitization-and-validation">Input Sanitization and Validation</h3>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">DOMPurify</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">dompurify</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">z</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">zod</span><span class="dl">'</span><span class="p">;</span>

<span class="c1">// HTML sanitization</span>
<span class="k">export</span> <span class="kd">const</span> <span class="nx">sanitizeHtml</span> <span class="o">=</span> <span class="p">(</span><span class="nx">html</span><span class="p">:</span> <span class="kr">string</span><span class="p">):</span> <span class="kr">string</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">DOMPurify</span><span class="p">.</span><span class="nx">sanitize</span><span class="p">(</span><span class="nx">html</span><span class="p">,</span> <span class="p">{</span>
    <span class="na">ALLOWED_TAGS</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">b</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">i</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">em</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">strong</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">a</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">p</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">br</span><span class="dl">'</span><span class="p">],</span>
    <span class="na">ALLOWED_ATTR</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">href</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">target</span><span class="dl">'</span><span class="p">],</span>
  <span class="p">});</span>
<span class="p">};</span>

<span class="c1">// Input validation schemas</span>
<span class="kd">const</span> <span class="nx">emailSchema</span> <span class="o">=</span> <span class="nx">z</span><span class="p">.</span><span class="kr">string</span><span class="p">().</span><span class="nx">email</span><span class="p">().</span><span class="nx">max</span><span class="p">(</span><span class="mi">254</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">passwordSchema</span> <span class="o">=</span> <span class="nx">z</span>
  <span class="p">.</span><span class="kr">string</span><span class="p">()</span>
  <span class="p">.</span><span class="nx">min</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">max</span><span class="p">(</span><span class="mi">128</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">regex</span><span class="p">(</span><span class="sr">/^</span><span class="se">(?=</span><span class="sr">.*</span><span class="se">[</span><span class="sr">a-z</span><span class="se">])(?=</span><span class="sr">.*</span><span class="se">[</span><span class="sr">A-Z</span><span class="se">])(?=</span><span class="sr">.*</span><span class="se">\d)(?=</span><span class="sr">.*</span><span class="se">[</span><span class="sr">@$!%*?&amp;</span><span class="se">])[</span><span class="sr">A-Za-z</span><span class="se">\d</span><span class="sr">@$!%*?&amp;</span><span class="se">]</span><span class="sr">/</span><span class="p">,</span>
    <span class="dl">'</span><span class="s1">Password must contain uppercase, lowercase, number, and special character</span><span class="dl">'</span><span class="p">);</span>

<span class="kd">const</span> <span class="nx">userInputSchema</span> <span class="o">=</span> <span class="nx">z</span><span class="p">.</span><span class="nx">object</span><span class="p">({</span>
  <span class="na">name</span><span class="p">:</span> <span class="nx">z</span><span class="p">.</span><span class="kr">string</span><span class="p">().</span><span class="nx">min</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="nx">max</span><span class="p">(</span><span class="mi">100</span><span class="p">).</span><span class="nx">regex</span><span class="p">(</span><span class="sr">/^</span><span class="se">[</span><span class="sr">a-zA-Z</span><span class="se">\s</span><span class="sr">'-</span><span class="se">]</span><span class="sr">+$/</span><span class="p">,</span> <span class="dl">'</span><span class="s1">Invalid characters in name</span><span class="dl">'</span><span class="p">),</span>
  <span class="na">email</span><span class="p">:</span> <span class="nx">emailSchema</span><span class="p">,</span>
  <span class="na">message</span><span class="p">:</span> <span class="nx">z</span><span class="p">.</span><span class="kr">string</span><span class="p">().</span><span class="nx">min</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="nx">max</span><span class="p">(</span><span class="mi">1000</span><span class="p">),</span>
<span class="p">});</span>

<span class="c1">// Safe component for rendering user content</span>
<span class="kd">type</span> <span class="nx">SafeContentProps</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">content</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
  <span class="nl">maxLength</span><span class="p">?:</span> <span class="kr">number</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">const</span> <span class="nx">SafeContent</span><span class="p">:</span> <span class="nx">React</span><span class="p">.</span><span class="nx">FC</span><span class="o">&lt;</span><span class="nx">SafeContentProps</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">({</span>
  <span class="nx">content</span><span class="p">,</span>
  <span class="nx">maxLength</span> <span class="o">=</span> <span class="mi">1000</span>
<span class="p">})</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">sanitizedContent</span> <span class="o">=</span> <span class="nx">useMemo</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">truncated</span> <span class="o">=</span> <span class="nx">content</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="nx">maxLength</span>
      <span class="p">?</span> <span class="nx">content</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">maxLength</span><span class="p">)</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">...</span><span class="dl">'</span>
      <span class="p">:</span> <span class="nx">content</span><span class="p">;</span>
    <span class="k">return</span> <span class="nx">sanitizeHtml</span><span class="p">(</span><span class="nx">truncated</span><span class="p">);</span>
  <span class="p">},</span> <span class="p">[</span><span class="nx">content</span><span class="p">,</span> <span class="nx">maxLength</span><span class="p">]);</span>

  <span class="k">return</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">div</span>
      <span class="nx">dangerouslySetInnerHTML</span><span class="o">=</span>
    <span class="sr">/</span><span class="err">&gt;
</span>  <span class="p">);</span>
<span class="p">};</span>
</code></pre></div></div>

<h3 id="xss-prevention">XSS Prevention</h3>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Safe URL validation</span>
<span class="kd">const</span> <span class="nx">isSafeUrl</span> <span class="o">=</span> <span class="p">(</span><span class="nx">url</span><span class="p">:</span> <span class="kr">string</span><span class="p">):</span> <span class="nx">boolean</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">try</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">parsedUrl</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">URL</span><span class="p">(</span><span class="nx">url</span><span class="p">);</span>
    <span class="k">return</span> <span class="p">[</span><span class="dl">'</span><span class="s1">http:</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">https:</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">mailto:</span><span class="dl">'</span><span class="p">].</span><span class="nx">includes</span><span class="p">(</span><span class="nx">parsedUrl</span><span class="p">.</span><span class="nx">protocol</span><span class="p">);</span>
  <span class="p">}</span> <span class="k">catch</span> <span class="p">{</span>
    <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="c1">// Safe link component</span>
<span class="kd">type</span> <span class="nx">SafeLinkProps</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">href</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
  <span class="nl">children</span><span class="p">:</span> <span class="nx">React</span><span class="p">.</span><span class="nx">ReactNode</span><span class="p">;</span>
  <span class="nl">className</span><span class="p">?:</span> <span class="kr">string</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">const</span> <span class="nx">SafeLink</span><span class="p">:</span> <span class="nx">React</span><span class="p">.</span><span class="nx">FC</span><span class="o">&lt;</span><span class="nx">SafeLinkProps</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">({</span> <span class="nx">href</span><span class="p">,</span> <span class="nx">children</span><span class="p">,</span> <span class="nx">className</span> <span class="p">})</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">isSafeUrl</span><span class="p">(</span><span class="nx">href</span><span class="p">))</span> <span class="p">{</span>
    <span class="k">return</span> <span class="o">&lt;</span><span class="nx">span</span> <span class="nx">className</span><span class="o">=</span><span class="p">{</span><span class="nx">className</span><span class="p">}</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">children</span><span class="p">}</span><span class="o">&lt;</span><span class="sr">/span&gt;</span><span class="err">;
</span>  <span class="p">}</span>

  <span class="kd">const</span> <span class="nx">isExternal</span> <span class="o">=</span> <span class="o">!</span><span class="nx">href</span><span class="p">.</span><span class="nx">startsWith</span><span class="p">(</span><span class="dl">'</span><span class="s1">/</span><span class="dl">'</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">href</span><span class="p">.</span><span class="nx">startsWith</span><span class="p">(</span><span class="dl">'</span><span class="s1">#</span><span class="dl">'</span><span class="p">);</span>

  <span class="k">return</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">a</span>
      <span class="nx">href</span><span class="o">=</span><span class="p">{</span><span class="nx">href</span><span class="p">}</span>
      <span class="nx">className</span><span class="o">=</span><span class="p">{</span><span class="nx">className</span><span class="p">}</span>
      <span class="p">{...(</span><span class="nx">isExternal</span> <span class="o">&amp;&amp;</span> <span class="p">{</span>
        <span class="na">target</span><span class="p">:</span> <span class="dl">'</span><span class="s1">_blank</span><span class="dl">'</span><span class="p">,</span>
        <span class="na">rel</span><span class="p">:</span> <span class="dl">'</span><span class="s1">noopener noreferrer</span><span class="dl">'</span><span class="p">,</span>
      <span class="p">})}</span>
    <span class="o">&gt;</span>
      <span class="p">{</span><span class="nx">children</span><span class="p">}</span>
    <span class="o">&lt;</span><span class="sr">/a</span><span class="err">&gt;
</span>  <span class="p">);</span>
<span class="p">};</span>
</code></pre></div></div>

<h2 id="testing-guidelines">Testing Guidelines</h2>

<h3 id="unit-testing-structure">Unit Testing Structure</h3>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Component test example</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">render</span><span class="p">,</span> <span class="nx">screen</span><span class="p">,</span> <span class="nx">fireEvent</span><span class="p">,</span> <span class="nx">waitFor</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@testing-library/react</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">userEvent</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@testing-library/user-event</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">QueryClient</span><span class="p">,</span> <span class="nx">QueryClientProvider</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@tanstack/react-query</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">UserProfile</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">./UserProfile</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">userService</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@/services/userService</span><span class="dl">'</span><span class="p">;</span>

<span class="c1">// Mock the service</span>
<span class="nx">jest</span><span class="p">.</span><span class="nx">mock</span><span class="p">(</span><span class="dl">'</span><span class="s1">@/services/userService</span><span class="dl">'</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">mockUserService</span> <span class="o">=</span> <span class="nx">userService</span> <span class="k">as</span> <span class="nx">jest</span><span class="p">.</span><span class="nx">Mocked</span><span class="o">&lt;</span><span class="k">typeof</span> <span class="nx">userService</span><span class="o">&gt;</span><span class="p">;</span>

<span class="c1">// Test utilities</span>
<span class="kd">const</span> <span class="nx">createQueryClient</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="k">new</span> <span class="nx">QueryClient</span><span class="p">({</span>
  <span class="na">defaultOptions</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">queries</span><span class="p">:</span> <span class="p">{</span> <span class="na">retry</span><span class="p">:</span> <span class="kc">false</span> <span class="p">},</span>
    <span class="na">mutations</span><span class="p">:</span> <span class="p">{</span> <span class="na">retry</span><span class="p">:</span> <span class="kc">false</span> <span class="p">},</span>
  <span class="p">},</span>
<span class="p">});</span>

<span class="kd">const</span> <span class="nx">renderWithProviders</span> <span class="o">=</span> <span class="p">(</span><span class="nx">component</span><span class="p">:</span> <span class="nx">React</span><span class="p">.</span><span class="nx">ReactElement</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">queryClient</span> <span class="o">=</span> <span class="nx">createQueryClient</span><span class="p">();</span>
  <span class="k">return</span> <span class="nx">render</span><span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">QueryClientProvider</span> <span class="nx">client</span><span class="o">=</span><span class="p">{</span><span class="nx">queryClient</span><span class="p">}</span><span class="o">&gt;</span>
      <span class="p">{</span><span class="nx">component</span><span class="p">}</span>
    <span class="o">&lt;</span><span class="sr">/QueryClientProvider</span><span class="err">&gt;
</span>  <span class="p">);</span>
<span class="p">};</span>

<span class="nx">describe</span><span class="p">(</span><span class="dl">'</span><span class="s1">UserProfile</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">mockUser</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">id</span><span class="p">:</span> <span class="dl">'</span><span class="s1">1</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">John Doe</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">email</span><span class="p">:</span> <span class="dl">'</span><span class="s1">john@example.com</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">role</span><span class="p">:</span> <span class="dl">'</span><span class="s1">user</span><span class="dl">'</span><span class="p">,</span>
  <span class="p">};</span>

  <span class="nx">beforeEach</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">jest</span><span class="p">.</span><span class="nx">clearAllMocks</span><span class="p">();</span>
  <span class="p">});</span>

  <span class="nx">it</span><span class="p">(</span><span class="dl">'</span><span class="s1">renders user information correctly</span><span class="dl">'</span><span class="p">,</span> <span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">mockUserService</span><span class="p">.</span><span class="nx">getUserById</span><span class="p">.</span><span class="nx">mockResolvedValue</span><span class="p">(</span><span class="nx">mockUser</span><span class="p">);</span>

    <span class="nx">renderWithProviders</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">UserProfile</span> <span class="nx">userId</span><span class="o">=</span><span class="dl">"</span><span class="s2">1</span><span class="dl">"</span> <span class="o">/&gt;</span><span class="p">);</span>

    <span class="nx">expect</span><span class="p">(</span><span class="nx">screen</span><span class="p">.</span><span class="nx">getByText</span><span class="p">(</span><span class="dl">'</span><span class="s1">Loading...</span><span class="dl">'</span><span class="p">)).</span><span class="nx">toBeInTheDocument</span><span class="p">();</span>

    <span class="k">await</span> <span class="nx">waitFor</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">expect</span><span class="p">(</span><span class="nx">screen</span><span class="p">.</span><span class="nx">getByText</span><span class="p">(</span><span class="dl">'</span><span class="s1">John Doe</span><span class="dl">'</span><span class="p">)).</span><span class="nx">toBeInTheDocument</span><span class="p">();</span>
    <span class="p">});</span>

    <span class="nx">expect</span><span class="p">(</span><span class="nx">screen</span><span class="p">.</span><span class="nx">getByText</span><span class="p">(</span><span class="dl">'</span><span class="s1">john@example.com</span><span class="dl">'</span><span class="p">)).</span><span class="nx">toBeInTheDocument</span><span class="p">();</span>
  <span class="p">});</span>

  <span class="nx">it</span><span class="p">(</span><span class="dl">'</span><span class="s1">handles edit button click</span><span class="dl">'</span><span class="p">,</span> <span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">onEdit</span> <span class="o">=</span> <span class="nx">jest</span><span class="p">.</span><span class="nx">fn</span><span class="p">();</span>
    <span class="nx">mockUserService</span><span class="p">.</span><span class="nx">getUserById</span><span class="p">.</span><span class="nx">mockResolvedValue</span><span class="p">(</span><span class="nx">mockUser</span><span class="p">);</span>

    <span class="nx">renderWithProviders</span><span class="p">(</span>
      <span class="o">&lt;</span><span class="nx">UserProfile</span> <span class="nx">userId</span><span class="o">=</span><span class="dl">"</span><span class="s2">1</span><span class="dl">"</span> <span class="nx">onEdit</span><span class="o">=</span><span class="p">{</span><span class="nx">onEdit</span><span class="p">}</span> <span class="sr">/</span><span class="err">&gt;
</span>    <span class="p">);</span>

    <span class="k">await</span> <span class="nx">waitFor</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">expect</span><span class="p">(</span><span class="nx">screen</span><span class="p">.</span><span class="nx">getByText</span><span class="p">(</span><span class="dl">'</span><span class="s1">John Doe</span><span class="dl">'</span><span class="p">)).</span><span class="nx">toBeInTheDocument</span><span class="p">();</span>
    <span class="p">});</span>

    <span class="kd">const</span> <span class="nx">editButton</span> <span class="o">=</span> <span class="nx">screen</span><span class="p">.</span><span class="nx">getByRole</span><span class="p">(</span><span class="dl">'</span><span class="s1">button</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="sr">/edit/i</span> <span class="p">});</span>
    <span class="k">await</span> <span class="nx">userEvent</span><span class="p">.</span><span class="nx">click</span><span class="p">(</span><span class="nx">editButton</span><span class="p">);</span>

    <span class="nx">expect</span><span class="p">(</span><span class="nx">onEdit</span><span class="p">).</span><span class="nx">toHaveBeenCalledWith</span><span class="p">(</span><span class="dl">'</span><span class="s1">1</span><span class="dl">'</span><span class="p">);</span>
  <span class="p">});</span>
<span class="p">});</span>
</code></pre></div></div>

<h3 id="testing-best-practices">Testing Best Practices</h3>

<ol>
  <li><strong>Test user behavior, not implementation details</strong></li>
  <li><strong>Use data-testid sparingly, prefer role-based queries</strong></li>
  <li><strong>Mock external dependencies at the boundary</strong></li>
  <li><strong>Write descriptive test names</strong></li>
  <li><strong>Use setup and teardown appropriately</strong></li>
  <li><strong>Test error states and edge cases</strong></li>
</ol>

<h2 id="accessibility">Accessibility</h2>

<h3 id="aria-and-semantic-html">ARIA and Semantic HTML</h3>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Proper semantic HTML and ARIA usage</span>
<span class="kd">const</span> <span class="nx">AccessibleModal</span><span class="p">:</span> <span class="nx">React</span><span class="p">.</span><span class="nx">FC</span><span class="o">&lt;</span><span class="nx">ModalProps</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">({</span>
  <span class="nx">isOpen</span><span class="p">,</span>
  <span class="nx">onClose</span><span class="p">,</span>
  <span class="nx">title</span><span class="p">,</span>
  <span class="nx">children</span>
<span class="p">})</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">titleId</span> <span class="o">=</span> <span class="nx">useId</span><span class="p">();</span>

  <span class="nx">useEffect</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">isOpen</span><span class="p">)</span> <span class="p">{</span>
      <span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">overflow</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">hidden</span><span class="dl">'</span><span class="p">;</span>
      <span class="c1">// Focus trap implementation</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">overflow</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">unset</span><span class="dl">'</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">overflow</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">unset</span><span class="dl">'</span><span class="p">;</span>
    <span class="p">};</span>
  <span class="p">},</span> <span class="p">[</span><span class="nx">isOpen</span><span class="p">]);</span>

  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">isOpen</span><span class="p">)</span> <span class="k">return</span> <span class="kc">null</span><span class="p">;</span>

  <span class="k">return</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">div</span>
      <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2">fixed inset-0 z-50 bg-black bg-opacity-50</span><span class="dl">"</span>
      <span class="nx">role</span><span class="o">=</span><span class="dl">"</span><span class="s2">dialog</span><span class="dl">"</span>
      <span class="nx">aria</span><span class="o">-</span><span class="nx">modal</span><span class="o">=</span><span class="dl">"</span><span class="s2">true</span><span class="dl">"</span>
      <span class="nx">aria</span><span class="o">-</span><span class="nx">labelledby</span><span class="o">=</span><span class="p">{</span><span class="nx">titleId</span><span class="p">}</span>
    <span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2">flex items-center justify-center min-h-screen p-4</span><span class="dl">"</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2">bg-white rounded-lg shadow-xl max-w-md w-full max-h-[90vh] overflow-auto</span><span class="dl">"</span><span class="o">&gt;</span>
          <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2">flex items-center justify-between p-6 border-b</span><span class="dl">"</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="nx">h2</span> <span class="nx">id</span><span class="o">=</span><span class="p">{</span><span class="nx">titleId</span><span class="p">}</span> <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2">text-xl font-semibold</span><span class="dl">"</span><span class="o">&gt;</span>
              <span class="p">{</span><span class="nx">title</span><span class="p">}</span>
            <span class="o">&lt;</span><span class="sr">/h2</span><span class="err">&gt;
</span>            <span class="o">&lt;</span><span class="nx">button</span>
              <span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">onClose</span><span class="p">}</span>
              <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2">text-gray-400 hover:text-gray-600</span><span class="dl">"</span>
              <span class="nx">aria</span><span class="o">-</span><span class="nx">label</span><span class="o">=</span><span class="dl">"</span><span class="s2">Close modal</span><span class="dl">"</span>
            <span class="o">&gt;</span>
              <span class="o">&lt;</span><span class="nx">X</span> <span class="nx">size</span><span class="o">=</span><span class="p">{</span><span class="mi">24</span><span class="p">}</span> <span class="sr">/</span><span class="err">&gt;
</span>            <span class="o">&lt;</span><span class="sr">/button</span><span class="err">&gt;
</span>          <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>          <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2">p-6</span><span class="dl">"</span><span class="o">&gt;</span>
            <span class="p">{</span><span class="nx">children</span><span class="p">}</span>
          <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>  <span class="p">);</span>
<span class="p">};</span>
</code></pre></div></div>

<h3 id="keyboard-navigation">Keyboard Navigation</h3>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Accessible dropdown component</span>
<span class="kd">const</span> <span class="nx">AccessibleDropdown</span><span class="p">:</span> <span class="nx">React</span><span class="p">.</span><span class="nx">FC</span><span class="o">&lt;</span><span class="nx">DropdownProps</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">({</span>
  <span class="nx">trigger</span><span class="p">,</span>
  <span class="nx">items</span><span class="p">,</span>
  <span class="nx">onSelect</span>
<span class="p">})</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">isOpen</span><span class="p">,</span> <span class="nx">setIsOpen</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">focusedIndex</span><span class="p">,</span> <span class="nx">setFocusedIndex</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span>
  <span class="kd">const</span> <span class="nx">triggerRef</span> <span class="o">=</span> <span class="nx">useRef</span><span class="o">&lt;</span><span class="nx">HTMLButtonElement</span><span class="o">&gt;</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>
  <span class="kd">const</span> <span class="nx">menuRef</span> <span class="o">=</span> <span class="nx">useRef</span><span class="o">&lt;</span><span class="nx">HTMLUListElement</span><span class="o">&gt;</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>

  <span class="kd">const</span> <span class="nx">handleKeyDown</span> <span class="o">=</span> <span class="p">(</span><span class="na">e</span><span class="p">:</span> <span class="nx">React</span><span class="p">.</span><span class="nx">KeyboardEvent</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">switch</span> <span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">key</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">case</span> <span class="dl">'</span><span class="s1">Enter</span><span class="dl">'</span><span class="p">:</span>
      <span class="k">case</span> <span class="dl">'</span><span class="s1"> </span><span class="dl">'</span><span class="p">:</span>
        <span class="nx">e</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">isOpen</span><span class="p">)</span> <span class="p">{</span>
          <span class="nx">setIsOpen</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
          <span class="nx">setFocusedIndex</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
        <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">focusedIndex</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
          <span class="nx">onSelect</span><span class="p">(</span><span class="nx">items</span><span class="p">[</span><span class="nx">focusedIndex</span><span class="p">]);</span>
          <span class="nx">setIsOpen</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">break</span><span class="p">;</span>
      <span class="k">case</span> <span class="dl">'</span><span class="s1">Escape</span><span class="dl">'</span><span class="p">:</span>
        <span class="nx">setIsOpen</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
        <span class="nx">triggerRef</span><span class="p">.</span><span class="nx">current</span><span class="p">?.</span><span class="nx">focus</span><span class="p">();</span>
        <span class="k">break</span><span class="p">;</span>
      <span class="k">case</span> <span class="dl">'</span><span class="s1">ArrowDown</span><span class="dl">'</span><span class="p">:</span>
        <span class="nx">e</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">isOpen</span><span class="p">)</span> <span class="p">{</span>
          <span class="nx">setIsOpen</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
          <span class="nx">setFocusedIndex</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
          <span class="nx">setFocusedIndex</span><span class="p">(</span><span class="nx">prev</span> <span class="o">=&gt;</span>
            <span class="nx">prev</span> <span class="o">&lt;</span> <span class="nx">items</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span> <span class="p">?</span> <span class="nx">prev</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">:</span> <span class="mi">0</span>
          <span class="p">);</span>
        <span class="p">}</span>
        <span class="k">break</span><span class="p">;</span>
      <span class="k">case</span> <span class="dl">'</span><span class="s1">ArrowUp</span><span class="dl">'</span><span class="p">:</span>
        <span class="nx">e</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">isOpen</span><span class="p">)</span> <span class="p">{</span>
          <span class="nx">setFocusedIndex</span><span class="p">(</span><span class="nx">prev</span> <span class="o">=&gt;</span>
            <span class="nx">prev</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="p">?</span> <span class="nx">prev</span> <span class="o">-</span> <span class="mi">1</span> <span class="p">:</span> <span class="nx">items</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span>
          <span class="p">);</span>
        <span class="p">}</span>
        <span class="k">break</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">};</span>

  <span class="k">return</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2">relative</span><span class="dl">"</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">button</span>
        <span class="nx">ref</span><span class="o">=</span><span class="p">{</span><span class="nx">triggerRef</span><span class="p">}</span>
        <span class="nx">onClick</span><span class="o">=</span><span class="p">{()</span> <span class="o">=&gt;</span> <span class="nx">setIsOpen</span><span class="p">(</span><span class="o">!</span><span class="nx">isOpen</span><span class="p">)}</span>
        <span class="nx">onKeyDown</span><span class="o">=</span><span class="p">{</span><span class="nx">handleKeyDown</span><span class="p">}</span>
        <span class="nx">aria</span><span class="o">-</span><span class="nx">expanded</span><span class="o">=</span><span class="p">{</span><span class="nx">isOpen</span><span class="p">}</span>
        <span class="nx">aria</span><span class="o">-</span><span class="nx">haspopup</span><span class="o">=</span><span class="dl">"</span><span class="s2">listbox</span><span class="dl">"</span>
        <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2">px-4 py-2 border rounded-md</span><span class="dl">"</span>
      <span class="o">&gt;</span>
        <span class="p">{</span><span class="nx">trigger</span><span class="p">}</span>
      <span class="o">&lt;</span><span class="sr">/button</span><span class="err">&gt;
</span>
      <span class="p">{</span><span class="nx">isOpen</span> <span class="o">&amp;&amp;</span> <span class="p">(</span>
        <span class="o">&lt;</span><span class="nx">ul</span>
          <span class="nx">ref</span><span class="o">=</span><span class="p">{</span><span class="nx">menuRef</span><span class="p">}</span>
          <span class="nx">role</span><span class="o">=</span><span class="dl">"</span><span class="s2">listbox</span><span class="dl">"</span>
          <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2">absolute top-full left-0 w-full mt-1 bg-white border rounded-md shadow-lg</span><span class="dl">"</span>
        <span class="o">&gt;</span>
          <span class="p">{</span><span class="nx">items</span><span class="p">.</span><span class="nx">map</span><span class="p">((</span><span class="nx">item</span><span class="p">,</span> <span class="nx">index</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">(</span>
            <span class="o">&lt;</span><span class="nx">li</span>
              <span class="nx">key</span><span class="o">=</span><span class="p">{</span><span class="nx">item</span><span class="p">.</span><span class="nx">id</span><span class="p">}</span>
              <span class="nx">role</span><span class="o">=</span><span class="dl">"</span><span class="s2">option</span><span class="dl">"</span>
              <span class="nx">aria</span><span class="o">-</span><span class="nx">selected</span><span class="o">=</span><span class="p">{</span><span class="nx">index</span> <span class="o">===</span> <span class="nx">focusedIndex</span><span class="p">}</span>
              <span class="nx">className</span><span class="o">=</span><span class="p">{</span><span class="s2">`px-4 py-2 cursor-pointer </span><span class="p">${</span>
                <span class="nx">index</span> <span class="o">===</span> <span class="nx">focusedIndex</span> <span class="p">?</span> <span class="dl">'</span><span class="s1">bg-blue-100</span><span class="dl">'</span> <span class="p">:</span> <span class="dl">'</span><span class="s1">hover:bg-gray-100</span><span class="dl">'</span>
              <span class="p">}</span><span class="s2">`</span><span class="p">}</span>
              <span class="nx">onClick</span><span class="o">=</span><span class="p">{()</span> <span class="o">=&gt;</span> <span class="p">{</span>
                <span class="nx">onSelect</span><span class="p">(</span><span class="nx">item</span><span class="p">);</span>
                <span class="nx">setIsOpen</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
              <span class="p">}}</span>
            <span class="o">&gt;</span>
              <span class="p">{</span><span class="nx">item</span><span class="p">.</span><span class="nx">label</span><span class="p">}</span>
            <span class="o">&lt;</span><span class="sr">/li</span><span class="err">&gt;
</span>          <span class="p">))}</span>
        <span class="o">&lt;</span><span class="sr">/ul</span><span class="err">&gt;
</span>      <span class="p">)}</span>
    <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>  <span class="p">);</span>
<span class="p">};</span>
</code></pre></div></div>

<h2 id="development-workflow">Development Workflow</h2>

<h3 id="git-workflow">Git Workflow</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Feature branch workflow</span>
git checkout <span class="nt">-b</span> feature/user-management
git add <span class="nb">.</span>
git commit <span class="nt">-m</span> <span class="s2">"feat: add user management interface"</span>
git push origin feature/user-management

<span class="c"># Commit message format</span>
feat: add new feature
fix: bug fix
docs: documentation changes
style: formatting changes
refactor: code refactoring
<span class="nb">test</span>: adding tests
chore: maintenance tasks
</code></pre></div></div>

<h3 id="code-review-checklist">Code Review Checklist</h3>

<ul class="task-list">
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" /><strong>Functionality</strong>: Does the code work as expected?</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" /><strong>TypeScript</strong>: Are types properly defined and used?</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" /><strong>Performance</strong>: Are there any performance concerns?</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" /><strong>Security</strong>: Are inputs validated and sanitized?</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" /><strong>Accessibility</strong>: Is the UI accessible to all users?</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" /><strong>Testing</strong>: Are there adequate tests?</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" /><strong>Documentation</strong>: Is the code well-documented?</li>
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" /><strong>Consistency</strong>: Does it follow our conventions?</li>
</ul>

<h3 id="development-commands">Development Commands</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Development</span>
npm run dev                <span class="c"># Start development server</span>
npm run build             <span class="c"># Build for production</span>
npm run start             <span class="c"># Start production server</span>
npm run lint              <span class="c"># Run ESLint</span>
npm run lint:fix          <span class="c"># Fix ESLint issues</span>
npm run format            <span class="c"># Format with Prettier</span>
npm run type-check        <span class="c"># TypeScript type checking</span>
npm <span class="nb">test</span>                  <span class="c"># Run tests</span>
npm run <span class="nb">test</span>:watch        <span class="c"># Run tests in watch mode</span>
npm run <span class="nb">test</span>:coverage     <span class="c"># Generate test coverage</span>
</code></pre></div></div>

<h3 id="environment-configuration">Environment Configuration</h3>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Environment variables validation</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">z</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">zod</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">envSchema</span> <span class="o">=</span> <span class="nx">z</span><span class="p">.</span><span class="nx">object</span><span class="p">({</span>
  <span class="na">NODE_ENV</span><span class="p">:</span> <span class="nx">z</span><span class="p">.</span><span class="kr">enum</span><span class="p">([</span><span class="dl">"</span><span class="s2">development</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">production</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">test</span><span class="dl">"</span><span class="p">]),</span>
  <span class="na">NEXT_PUBLIC_API_URL</span><span class="p">:</span> <span class="nx">z</span><span class="p">.</span><span class="kr">string</span><span class="p">().</span><span class="nx">url</span><span class="p">(),</span>
  <span class="na">DATABASE_URL</span><span class="p">:</span> <span class="nx">z</span><span class="p">.</span><span class="kr">string</span><span class="p">(),</span>
  <span class="na">JWT_SECRET</span><span class="p">:</span> <span class="nx">z</span><span class="p">.</span><span class="kr">string</span><span class="p">().</span><span class="nx">min</span><span class="p">(</span><span class="mi">32</span><span class="p">),</span>
  <span class="na">REDIS_URL</span><span class="p">:</span> <span class="nx">z</span><span class="p">.</span><span class="kr">string</span><span class="p">().</span><span class="nx">optional</span><span class="p">(),</span>
<span class="p">});</span>

<span class="k">export</span> <span class="kd">const</span> <span class="nx">env</span> <span class="o">=</span> <span class="nx">envSchema</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">);</span>

<span class="c1">// Type-safe environment variables</span>
<span class="kr">declare</span> <span class="nb">global</span> <span class="p">{</span>
  <span class="k">namespace</span> <span class="nx">NodeJS</span> <span class="p">{</span>
    <span class="kr">interface</span> <span class="nx">ProcessEnv</span> <span class="kd">extends</span> <span class="nx">z</span><span class="p">.</span><span class="nx">infer</span><span class="o">&lt;</span><span class="k">typeof</span> <span class="nx">envSchema</span><span class="o">&gt;</span> <span class="p">{}</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="configuration-files">Configuration Files</h3>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// tailwind.config.ts</span>
<span class="k">import</span> <span class="kd">type</span> <span class="p">{</span> <span class="nx">Config</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">tailwindcss</span><span class="dl">"</span><span class="p">;</span>

<span class="c1">// next.config.mjs</span>
<span class="cm">/** @type {import('next').NextConfig} */</span>
<span class="kd">const</span> <span class="nx">nextConfig</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">experimental</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">appDir</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="p">},</span>
  <span class="na">images</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">domains</span><span class="p">:</span> <span class="p">[</span><span class="dl">"</span><span class="s2">example.com</span><span class="dl">"</span><span class="p">],</span>
    <span class="na">formats</span><span class="p">:</span> <span class="p">[</span><span class="dl">"</span><span class="s2">image/webp</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">image/avif</span><span class="dl">"</span><span class="p">],</span>
  <span class="p">},</span>
  <span class="na">compiler</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">removeConsole</span><span class="p">:</span> <span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">NODE_ENV</span> <span class="o">===</span> <span class="dl">"</span><span class="s2">production</span><span class="dl">"</span><span class="p">,</span>
  <span class="p">},</span>
  <span class="na">headers</span><span class="p">:</span> <span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="na">source</span><span class="p">:</span> <span class="dl">"</span><span class="s2">/(.*)</span><span class="dl">"</span><span class="p">,</span>
      <span class="na">headers</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
          <span class="na">key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">X-Frame-Options</span><span class="dl">"</span><span class="p">,</span>
          <span class="na">value</span><span class="p">:</span> <span class="dl">"</span><span class="s2">DENY</span><span class="dl">"</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="p">{</span>
          <span class="na">key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">X-Content-Type-Options</span><span class="dl">"</span><span class="p">,</span>
          <span class="na">value</span><span class="p">:</span> <span class="dl">"</span><span class="s2">nosniff</span><span class="dl">"</span><span class="p">,</span>
        <span class="p">},</span>
      <span class="p">],</span>
    <span class="p">},</span>
  <span class="p">],</span>
<span class="p">};</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">nextConfig</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">config</span><span class="p">:</span> <span class="nx">Config</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">content</span><span class="p">:</span> <span class="p">[</span>
    <span class="dl">"</span><span class="s2">./src/pages/**/*.{js,ts,jsx,tsx,mdx}</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">./src/components/**/*.{js,ts,jsx,tsx,mdx}</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">./src/app/**/*.{js,ts,jsx,tsx,mdx}</span><span class="dl">"</span><span class="p">,</span>
  <span class="p">],</span>
  <span class="na">theme</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">extend</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">colors</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">primary</span><span class="p">:</span> <span class="p">{</span>
          <span class="mi">50</span><span class="p">:</span> <span class="dl">"</span><span class="s2">#eff6ff</span><span class="dl">"</span><span class="p">,</span>
          <span class="mi">500</span><span class="p">:</span> <span class="dl">"</span><span class="s2">#3b82f6</span><span class="dl">"</span><span class="p">,</span>
          <span class="mi">900</span><span class="p">:</span> <span class="dl">"</span><span class="s2">#1e3a8a</span><span class="dl">"</span><span class="p">,</span>
        <span class="p">},</span>
      <span class="p">},</span>
      <span class="na">fontFamily</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">sans</span><span class="p">:</span> <span class="p">[</span><span class="dl">"</span><span class="s2">Inter</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">sans-serif</span><span class="dl">"</span><span class="p">],</span>
      <span class="p">},</span>
    <span class="p">},</span>
  <span class="p">},</span>
  <span class="na">plugins</span><span class="p">:</span> <span class="p">[</span><span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">@tailwindcss/forms</span><span class="dl">"</span><span class="p">),</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">@tailwindcss/typography</span><span class="dl">"</span><span class="p">)],</span>
<span class="p">};</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">config</span><span class="p">;</span>
</code></pre></div></div>

<h2 id="best-practices-summary">Best Practices Summary</h2>

<h3 id="code-quality">Code Quality</h3>

<ol>
  <li><strong>Consistent naming conventions</strong> across all files and variables</li>
  <li><strong>Type safety</strong> with comprehensive TypeScript usage</li>
  <li><strong>Component reusability</strong> through proper abstraction</li>
  <li><strong>Performance optimization</strong> with memoization and lazy loading</li>
  <li><strong>Error handling</strong> at all levels of the application</li>
</ol>

<h3 id="security">Security</h3>

<ol>
  <li><strong>Input validation</strong> and sanitization</li>
  <li><strong>XSS prevention</strong> with safe content rendering</li>
  <li><strong>CSRF protection</strong> for state-changing operations</li>
  <li><strong>Content Security Policy</strong> implementation</li>
  <li><strong>Secure authentication</strong> and authorization</li>
</ol>

<h3 id="accessibility-1">Accessibility</h3>

<ol>
  <li><strong>Semantic HTML</strong> structure</li>
  <li><strong>ARIA attributes</strong> for screen readers</li>
  <li><strong>Keyboard navigation</strong> support</li>
  <li><strong>Color contrast</strong> compliance</li>
  <li><strong>Focus management</strong> in interactive components</li>
</ol>

<h3 id="performance">Performance</h3>

<ol>
  <li><strong>Code splitting</strong> for optimal bundle sizes</li>
  <li><strong>Image optimization</strong> with Next.js Image component</li>
  <li><strong>Caching strategies</strong> for API responses</li>
  <li><strong>Lazy loading</strong> for non-critical components</li>
  <li><strong>Bundle analysis</strong> and optimization</li>
</ol>

<h3 id="maintainability">Maintainability</h3>

<ol>
  <li><strong>Clear project structure</strong> with logical organization</li>
  <li><strong>Comprehensive documentation</strong> and comments</li>
  <li><strong>Consistent code formatting</strong> with Prettier</li>
  <li><strong>Automated testing</strong> for critical functionality</li>
  <li><strong>Version control</strong> best practices</li>
</ol>

<hr />

<p><strong>Remember</strong>: These conventions are living guidelines that should evolve with the project and team needs. Regular review and updates ensure they remain relevant and useful.</p>

<p><strong>For Questions</strong>: Create an issue or discussion in the project repository for clarification or suggestions for improvements to these conventions.</p>

<h1 id="development">Development</h1>

<p>npm run dev # Start development server
npm run build # Build for production
npm run start # Start production server
npm run lint # Run ESLint
npm run lint:fix # Fix ESLint issues
npm run format # Format with Prettier
npm run type-check # TypeScript type checking
npm test # Run tests
npm run test:watch # Run tests in watch mode
npm run test:coverage # Generate test coverage</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
### Environment Configuration

```typescript
// Environment variables validation
import { z } from "zod";

const envSchema = z.object({
  NODE_ENV: z.enum(["development", "production", "test"]),
  NEXT_PUBLIC_API_URL: z.string().url(),
  DATABASE_URL: z.string(),
  JWT_SECRET: z.string().min(32),
  REDIS_URL: z.string().optional(),
});

export const env = envSchema.parse(process.env);

// Type-safe environment variables
declare global {
  namespace NodeJS {
    interface ProcessEnv extends z.infer&lt;typeof envSchema&gt; {}
  }
}
</code></pre></div></div>

<h3 id="configuration-files-1">Configuration Files</h3>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// tailwind.config.ts</span>
<span class="k">import</span> <span class="kd">type</span> <span class="p">{</span> <span class="nx">Config</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">tailwindcss</span><span class="dl">"</span><span class="p">;</span>

<span class="c1">// next.config.mjs</span>
<span class="cm">/** @type {import('next').NextConfig} */</span>
<span class="kd">const</span> <span class="nx">nextConfig</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">experimental</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">appDir</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="p">},</span>
  <span class="na">images</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">domains</span><span class="p">:</span> <span class="p">[</span><span class="dl">"</span><span class="s2">example.com</span><span class="dl">"</span><span class="p">],</span>
    <span class="na">formats</span><span class="p">:</span> <span class="p">[</span><span class="dl">"</span><span class="s2">image/webp</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">image/avif</span><span class="dl">"</span><span class="p">],</span>
  <span class="p">},</span>
  <span class="na">compiler</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">removeConsole</span><span class="p">:</span> <span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">NODE_ENV</span> <span class="o">===</span> <span class="dl">"</span><span class="s2">production</span><span class="dl">"</span><span class="p">,</span>
  <span class="p">},</span>
  <span class="na">headers</span><span class="p">:</span> <span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="na">source</span><span class="p">:</span> <span class="dl">"</span><span class="s2">/(.*)</span><span class="dl">"</span><span class="p">,</span>
      <span class="na">headers</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
          <span class="na">key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">X-Frame-Options</span><span class="dl">"</span><span class="p">,</span>
          <span class="na">value</span><span class="p">:</span> <span class="dl">"</span><span class="s2">DENY</span><span class="dl">"</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="p">{</span>
          <span class="na">key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">X-Content-Type-Options</span><span class="dl">"</span><span class="p">,</span>
          <span class="na">value</span><span class="p">:</span> <span class="dl">"</span><span class="s2">nosniff</span><span class="dl">"</span><span class="p">,</span>
        <span class="p">},</span>
      <span class="p">],</span>
    <span class="p">},</span>
  <span class="p">],</span>
<span class="p">};</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">nextConfig</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">config</span><span class="p">:</span> <span class="nx">Config</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">content</span><span class="p">:</span> <span class="p">[</span>
    <span class="dl">"</span><span class="s2">./src/pages/**/*.{js,ts,jsx,tsx,mdx}</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">./src/components/**/*.{js,ts,jsx,tsx,mdx}</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">./src/app/**/*.{js,ts,jsx,tsx,mdx}</span><span class="dl">"</span><span class="p">,</span>
  <span class="p">],</span>
  <span class="na">theme</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">extend</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">colors</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">primary</span><span class="p">:</span> <span class="p">{</span>
          <span class="mi">50</span><span class="p">:</span> <span class="dl">"</span><span class="s2">#eff6ff</span><span class="dl">"</span><span class="p">,</span>
          <span class="mi">500</span><span class="p">:</span> <span class="dl">"</span><span class="s2">#3b82f6</span><span class="dl">"</span><span class="p">,</span>
          <span class="mi">900</span><span class="p">:</span> <span class="dl">"</span><span class="s2">#1e3a8a</span><span class="dl">"</span><span class="p">,</span>
        <span class="p">},</span>
      <span class="p">},</span>
      <span class="na">fontFamily</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">sans</span><span class="p">:</span> <span class="p">[</span><span class="dl">"</span><span class="s2">Inter</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">sans-serif</span><span class="dl">"</span><span class="p">],</span>
      <span class="p">},</span>
    <span class="p">},</span>
  <span class="p">},</span>
  <span class="na">plugins</span><span class="p">:</span> <span class="p">[</span><span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">@tailwindcss/forms</span><span class="dl">"</span><span class="p">),</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">@tailwindcss/typography</span><span class="dl">"</span><span class="p">)],</span>
<span class="p">};</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">config</span><span class="p">;</span>
</code></pre></div></div>

<h2 id="best-practices-summary-1">Best Practices Summary</h2>

<h3 id="code-quality-1">Code Quality</h3>

<ol>
  <li><strong>Consistent naming conventions</strong> across all files and variables</li>
  <li><strong>Type safety</strong> with comprehensive TypeScript usage</li>
  <li><strong>Component reusability</strong> through proper abstraction</li>
  <li><strong>Performance optimization</strong> with memoization and lazy loading</li>
  <li><strong>Error handling</strong> at all levels of the application</li>
</ol>

<h3 id="security-1">Security</h3>

<ol>
  <li><strong>Input validation</strong> and sanitization</li>
  <li><strong>XSS prevention</strong> with safe content rendering</li>
  <li><strong>CSRF protection</strong> for state-changing operations</li>
  <li><strong>Content Security Policy</strong> implementation</li>
  <li><strong>Secure authentication</strong> and authorization</li>
</ol>

<h3 id="accessibility-2">Accessibility</h3>

<ol>
  <li><strong>Semantic HTML</strong> structure</li>
  <li><strong>ARIA attributes</strong> for screen readers</li>
  <li><strong>Keyboard navigation</strong> support</li>
  <li><strong>Color contrast</strong> compliance</li>
  <li><strong>Focus management</strong> in interactive components</li>
</ol>

<h3 id="performance-1">Performance</h3>

<ol>
  <li><strong>Code splitting</strong> for optimal bundle sizes</li>
  <li><strong>Image optimization</strong> with Next.js Image component</li>
  <li><strong>Caching strategies</strong> for API responses</li>
  <li><strong>Lazy loading</strong> for non-critical components</li>
  <li><strong>Bundle analysis</strong> and optimization</li>
</ol>

<h3 id="maintainability-1">Maintainability</h3>

<ol>
  <li><strong>Clear project structure</strong> with logical organization</li>
  <li><strong>Comprehensive documentation</strong> and comments</li>
  <li><strong>Consistent code formatting</strong> with Prettier</li>
  <li><strong>Automated testing</strong> for critical functionality</li>
  <li><strong>Version control</strong> best practices</li>
</ol>

<hr />

<p><strong>Remember</strong>: These conventions are living guidelines that should evolve with the project and team needs. Regular review and updates ensure they remain relevant and useful.</p>

<p><strong>For Questions</strong>: Create an issue or discussion in the project repository for clarification or suggestions for improvements to these conventions.</p>

  </div>

</article>

    </main>

    <!-- Footer -->
    <footer>
        <div class="container">
            <p>&copy; 2025 Thi Vo. All rights reserved.</p>
            <p>Built with ❤️ and Jekyll on GitHub Pages</p>
        </div>
    </footer>
</body>
</html>
